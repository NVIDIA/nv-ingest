apiVersion: v2
name: nv-ingest
description: NV-Ingest Microservice
type: application
version: 0.4.2
maintainers:
  - name: NVIDIA Corporation
    url: https://www.nvidia.com/
dependencies:
  # Yolox NIM
  - name: yolox-nim
    repository: "alias:nemo-microservices"
    version: 0.2.0
    condition: yolox-nim.deployed

  # Yolox base architecture variant NIM for extracting Graphic Elements from images
  - name: nvidia-nim-nemoretriever-graphic-elements-v1
    repository: "alias:nemo-microservices"
    version: 1.2.0
    condition: nvidia-nim-nemoretriever-graphic-elements-v1.deployed

  # Yolox base architecture variant NIM for extracting Table Structures from images
  - name: nvidia-nim-nemoretriever-table-structure-v1
    repository: "alias:nvstaging-nim"
    version: 1.1.0
    condition: nvidia-nim-nemoretriever-table-structure-v1.deployed

  # # VLM for image captioning.
  # # This same chart can power several different underlying VLM models. Configure in values.yaml
  # - name: nim-vlm
  #   repository: "alias:nvstaging-nim"
  #   version: 1.2.0-ea-v4
  #   alias: nim-vlm-image-captioning
  #   condition: nim-vlm-image-captioning.deployed

  # VLM for text extraction. Same helm chart as image captioning VLM with different NIM engine; eclair vs llama vision
  - name: nim-vlm
    repository: "alias:nvstaging-nim"
    version: 1.2.0-ea-v4
    alias: nim-vlm-text-extraction
    condition: nim-vlm-text-extraction.deployed

  # PaddleOCR NIM
  - name: paddleocr-nim
    repository: "alias:nemo-microservices"
    version: 0.2.0
    condition: paddleocr-nim.deployed

  # nv-embedqa-e5-v5 NIM. Note only text-embedding-nim OR nvidia-nim-llama-32-nv-embedqa-1b-v2 can be deployed at the same time but not both
  - name: text-embedding-nim
    repository: "alias:nvidia-nim"
    version: 1.1.0
    condition: text-embedding-nim.deployed

  # nvidia-nim-llama-32-nv-embedqa-1b-v2 NIM. Note only text-embedding-nim OR nvidia-nim-llama-32-nv-embedqa-1b-v2 can be deployed at the same time but not both
  - name: nvidia-nim-llama-32-nv-embedqa-1b-v2
    repository: "alias:nvidia-nim"
    version: 1.3.0
    condition: nvidia-nim-llama-32-nv-embedqa-1b-v2.deployed

  # # Nvidia llama-3.2-nv-rerankqa-1b-v2 reranking NIM
  # - name: llama-3.2-nv-rerankqa-1b-v2
  #   repository: "alias:nvstaging-nim"
  #   version: 1.4.0-rc1-latest-datacenter-release-24598430
  #   condition: llama-3.2-nv-rerankqa-1b-v2.deployed

  - name: milvus
    repository: https://zilliztech.github.io/milvus-helm
    version: 4.1.11
    condition: milvusDeployed

  - name: redis
    repository: oci://registry-1.docker.io/bitnamicharts
    tags:
      - redis
    version: 19.1.3
    condition: redisDeployed

  - name: zipkin
    repository: https://zipkin.io/zipkin-helm
    version: 0.1.2
    condition: zipkinDeployed

  - name: opentelemetry-collector
    repository: https://open-telemetry.github.io/opentelemetry-helm-charts
    version: 0.78.1
    condition: otelDeployed
