# MIG Values for NV-Ingest 26.x (NIM Operator format)
# For NV-Ingest 25.9.0 and earlier, use nv-ingest-mig-values-25x.yaml

# Configure NIM Operator components to use MIG
nimOperator:
  page_elements:
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1

  graphic_elements:
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1

  table_structure:
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1

  embedqa:
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1

  nemoretriever_ocr_v1:
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.20gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.20gb: 1

  paddleocr:
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1

  # If you want to deploy llama-32-nv-rerankqa-1b-v2
  llama_3_2_nv_rerankqa_1b_v2:
    enabled: true
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.20gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.20gb: 1

  nemotron_nano_12b_v2_vl:
    enabled: true
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-7g.80gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-7g.80gb: 1

  nemotron_parse:
    enabled: true
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-7g.80gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-7g.80gb: 1

  audio:
    enabled: true
    resources:
      limits:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1
      requests:
        nvidia.com/gpu: "0"
        nvidia.com/mig-1g.10gb: 1

# Configure Milvus to use MIG
milvus:
  standalone:
    resources:
      limits:
        nvidia.com/gpu: 0
        nvidia.com/mig-1g.10gb: 1
      requests:
        nvidia.com/gpu: 0
        nvidia.com/mig-1g.10gb: 1
