

<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>nv_ingest_api.internal.primitives.nim.model_interface package &#8212; nv-ingest</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/nvidia-sphinx-theme.css?v=d0aa047a" />
    <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=be04dab6"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'nv-ingest-api/nv_ingest_api.internal.primitives.nim.model_interface';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nv_ingest_api.internal.primitives.tracing package" href="nv_ingest_api.internal.primitives.tracing.html" />
    <link rel="prev" title="nv_ingest_api.internal.primitives.nim package" href="nv_ingest_api.internal.primitives.nim.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="nv-ingest - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="nv-ingest - Home"/>
  
  
    <p class="title logo__title">nv-ingest</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="nv-ingest - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="nv-ingest - Home"/>
  
  
    <p class="title logo__title">nv-ingest</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">NV-Ingest Packages</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="modules.html">nv_ingest_api</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="nv_ingest_api.html">nv_ingest_api package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nv_ingest_api.interface.html">nv_ingest_api.interface package</a></li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="nv_ingest_api.internal.html">nv_ingest_api.internal package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.enums.html">nv_ingest_api.internal.enums package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.extract.html">nv_ingest_api.internal.extract package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.mutate.html">nv_ingest_api.internal.mutate package</a></li>
<li class="toctree-l4 current active"><a class="reference internal" href="nv_ingest_api.internal.primitives.html">nv_ingest_api.internal.primitives package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.schemas.html">nv_ingest_api.internal.schemas package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.store.html">nv_ingest_api.internal.store package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.transform.html">nv_ingest_api.internal.transform package</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="nv_ingest_api.util.html">nv_ingest_api.util package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.control_message.html">nv_ingest_api.util.control_message package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.converters.html">nv_ingest_api.util.converters package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.detectors.html">nv_ingest_api.util.detectors package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.exception_handlers.html">nv_ingest_api.util.exception_handlers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.image_processing.html">nv_ingest_api.util.image_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.imports.html">nv_ingest_api.util.imports package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.logging.html">nv_ingest_api.util.logging package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.message_brokers.html">nv_ingest_api.util.message_brokers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.metadata.html">nv_ingest_api.util.metadata package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.multi_processing.html">nv_ingest_api.util.multi_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.nim.html">nv_ingest_api.util.nim package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.pdf.html">nv_ingest_api.util.pdf package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.schema.html">nv_ingest_api.util.schema package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.service_clients.html">nv_ingest_api.util.service_clients package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.string_processing.html">nv_ingest_api.util.string_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.system.html">nv_ingest_api.util.system package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nv-ingest-client/modules.html">nv_ingest_client</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.html">nv_ingest_client package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.cli.html">nv_ingest_client.cli package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.cli.util.html">nv_ingest_client.cli.util package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.client.html">nv_ingest_client.client package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.primitives.html">nv_ingest_client.primitives package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.primitives.jobs.html">nv_ingest_client.primitives.jobs package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.primitives.tasks.html">nv_ingest_client.primitives.tasks package</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.util.html">nv_ingest_client.util package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.util.file_processing.html">nv_ingest_client.util.file_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.util.vdb.html">nv_ingest_client.util.vdb package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nv-ingest/modules.html">nv_ingest</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../nv-ingest/nv_ingest.html">nv_ingest package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest/nv_ingest.api.html">nv_ingest.api package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest/nv_ingest.api.v1.html">nv_ingest.api.v1 package</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest/nv_ingest.framework.html">nv_ingest.framework package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest/nv_ingest.framework.orchestration.html">nv_ingest.framework.orchestration package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest/nv_ingest.framework.schemas.html">nv_ingest.framework.schemas package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest/nv_ingest.framework.util.html">nv_ingest.framework.util package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="modules.html" class="nav-link">nv_ingest_api</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest_api.html" class="nav-link">nv_ingest_api package</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest_api.internal.html" class="nav-link">nv_ingest_api.internal package</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest_api.internal.primitives.html" class="nav-link">nv_ingest_api.internal.primitives package</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest_api.internal.primitives.nim.html" class="nav-link">nv_ingest_api.internal.primitives.nim package</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">nv_ingest_api.internal.primitives.nim.model_interface package</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="nv-ingest-api-internal-primitives-nim-model-interface-package">
<h1>nv_ingest_api.internal.primitives.nim.model_interface package<a class="headerlink" href="#nv-ingest-api-internal-primitives-nim-model-interface-package" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface.cached">
<span id="nv-ingest-api-internal-primitives-nim-model-interface-cached-module"></span><h2>nv_ingest_api.internal.primitives.nim.model_interface.cached module<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.cached" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.cached.</span></span><span class="sig-name descname"><span class="pre">CachedModelInterface</span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/cached.html#CachedModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="nv_ingest_api.internal.primitives.nim.html#nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface" title="nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelInterface</span></code></a></p>
<p>An interface for handling inference with a Cached model, supporting both gRPC and HTTP
protocols, including batched input.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.format_input">
<span class="sig-name descname"><span class="pre">format_input</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/cached.html#CachedModelInterface.format_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.format_input" title="Link to this definition">#</a></dt>
<dd><p>Format input data for the specified protocol (“grpc” or “http”), handling batched images.
Additionally, returns batched data that coalesces the original image arrays and their dimensions
in the same order as provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em><em> of </em><em>str -&gt; Any</em>) – The input data dictionary, expected to contain “image_arrays” (a list of np.ndarray).</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The protocol to use, “grpc” or “http”.</p></li>
<li><p><strong>max_batch_size</strong> (<em>int</em>) – The maximum number of images per batch.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple (formatted_batches, formatted_batch_data) where:</dt><dd><ul class="simple">
<li><p>For gRPC: formatted_batches is a list of NumPy arrays, each of shape (B, H, W, C)
with B &lt;= max_batch_size.</p></li>
<li><p>For HTTP: formatted_batches is a list of JSON-serializable dict payloads.</p></li>
<li><dl class="simple">
<dt>In both cases, formatted_batch_data is a list of dicts with the keys:</dt><dd><p>”image_arrays”: the list of original np.ndarray images for that batch, and
“image_dims”:  a list of (height, width) tuples for each image in the batch.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If “image_arrays” is missing in the data dictionary.</p></li>
<li><p><strong>ValueError</strong> – If the protocol is invalid, or if no valid images are found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/cached.html#CachedModelInterface.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.name" title="Link to this definition">#</a></dt>
<dd><p>Get the name of the model interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the model interface (“Cached”).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.parse_output">
<span class="sig-name descname"><span class="pre">parse_output</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/cached.html#CachedModelInterface.parse_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.parse_output" title="Link to this definition">#</a></dt>
<dd><p>Parse the output from the Cached model’s inference response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>Any</em>) – The raw response from the model inference.</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The protocol used (“grpc” or “http”).</p></li>
<li><p><strong>data</strong> (<em>dict</em><em> of </em><em>str -&gt; Any</em><em>, </em><em>optional</em>) – Additional input data (unused here, but available for consistency).</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Additional keyword arguments for future compatibility.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parsed output data (e.g., list of strings), depending on the protocol.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the protocol is invalid.</p></li>
<li><p><strong>RuntimeError</strong> – If the HTTP response is not as expected (missing ‘data’ key).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.prepare_data_for_inference">
<span class="sig-name descname"><span class="pre">prepare_data_for_inference</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/cached.html#CachedModelInterface.prepare_data_for_inference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.prepare_data_for_inference" title="Link to this definition">#</a></dt>
<dd><p>Decode base64-encoded images into NumPy arrays, storing them in <cite>data[“image_arrays”]</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em><em> of </em><em>str -&gt; Any</em>) – <dl class="simple">
<dt>The input data containing either:</dt><dd><ul class="simple">
<li><p>”base64_image”: a single base64-encoded image, or</p></li>
<li><p>”base64_images”: a list of base64-encoded images.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated data dictionary with decoded image arrays stored in
“image_arrays”, where each array has shape (H, W, C).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict of str -&gt; Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If neither ‘base64_image’ nor ‘base64_images’ is provided.</p></li>
<li><p><strong>ValueError</strong> – If ‘base64_images’ is provided but is not a list.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.process_inference_results">
<span class="sig-name descname"><span class="pre">process_inference_results</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/cached.html#CachedModelInterface.process_inference_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.process_inference_results" title="Link to this definition">#</a></dt>
<dd><p>Process inference results for the Cached model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> (<em>Any</em>) – The raw output from the model.</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The inference protocol used (“grpc” or “http”).</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Additional parameters for post-processing (not used here).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The processed inference results, which here is simply returned as-is.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface.decorators">
<span id="nv-ingest-api-internal-primitives-nim-model-interface-decorators-module"></span><h2>nv_ingest_api.internal.primitives.nim.model_interface.decorators module<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.decorators" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.decorators.multiprocessing_cache">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.decorators.</span></span><span class="sig-name descname"><span class="pre">multiprocessing_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_calls</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/decorators.html#multiprocessing_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.decorators.multiprocessing_cache" title="Link to this definition">#</a></dt>
<dd><p>A decorator that creates a global cache shared between multiple processes.
The cache is invalidated after <cite>max_calls</cite> number of accesses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>max_calls</strong> (<em>int</em>) – The number of calls after which the cache is cleared.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The decorated function with global cache and invalidation logic.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface.deplot">
<span id="nv-ingest-api-internal-primitives-nim-model-interface-deplot-module"></span><h2>nv_ingest_api.internal.primitives.nim.model_interface.deplot module<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.deplot" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.deplot.</span></span><span class="sig-name descname"><span class="pre">DeplotModelInterface</span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/deplot.html#DeplotModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="nv_ingest_api.internal.primitives.nim.html#nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface" title="nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelInterface</span></code></a></p>
<p>An interface for handling inference with a Deplot model, supporting both gRPC and HTTP protocols,
now updated to handle multiple base64 images (‘base64_images’).</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.format_input">
<span class="sig-name descname"><span class="pre">format_input</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/deplot.html#DeplotModelInterface.format_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.format_input" title="Link to this definition">#</a></dt>
<dd><p>Format input data for the specified protocol (gRPC or HTTP) for Deplot.
For HTTP, we now construct multiple messages—one per image batch—along with
corresponding batch data carrying the original image arrays and their dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em><em> of </em><em>str -&gt; Any</em>) – The input data dictionary, expected to contain “image_arrays” (a list of np.ndarray).</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The protocol to use, “grpc” or “http”.</p></li>
<li><p><strong>max_batch_size</strong> (<em>int</em>) – The maximum number of images per batch.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional parameters to pass to the payload preparation (for HTTP).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>(formatted_batches, formatted_batch_data) where:</dt><dd><ul class="simple">
<li><p>For gRPC: formatted_batches is a list of NumPy arrays, each of shape (B, H, W, C)
with B &lt;= max_batch_size.</p></li>
<li><p>For HTTP: formatted_batches is a list of JSON-serializable payload dicts.</p></li>
<li><dl class="simple">
<dt>In both cases, formatted_batch_data is a list of dicts containing:</dt><dd><p>”image_arrays”: the list of original np.ndarray images for that batch, and
“image_dims”:  a list of (height, width) tuples for each image in the batch.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If “image_arrays” is missing in the data dictionary.</p></li>
<li><p><strong>ValueError</strong> – If the protocol is invalid, or if no valid images are found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/deplot.html#DeplotModelInterface.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.name" title="Link to this definition">#</a></dt>
<dd><p>Get the name of the model interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the model interface (“Deplot”).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.parse_output">
<span class="sig-name descname"><span class="pre">parse_output</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/deplot.html#DeplotModelInterface.parse_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.parse_output" title="Link to this definition">#</a></dt>
<dd><p>Parse the model’s inference response.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.prepare_data_for_inference">
<span class="sig-name descname"><span class="pre">prepare_data_for_inference</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/deplot.html#DeplotModelInterface.prepare_data_for_inference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.prepare_data_for_inference" title="Link to this definition">#</a></dt>
<dd><p>Prepare input data by decoding one or more base64-encoded images into NumPy arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em>) – The input data containing either ‘base64_image’ (single image)
or ‘base64_images’ (multiple images).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated data dictionary with ‘image_arrays’: a list of decoded NumPy arrays.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.process_inference_results">
<span class="sig-name descname"><span class="pre">process_inference_results</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/deplot.html#DeplotModelInterface.process_inference_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.process_inference_results" title="Link to this definition">#</a></dt>
<dd><p>Process inference results for the Deplot model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> (<em>Any</em>) – The raw output from the model.</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The protocol used for inference (gRPC or HTTP).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The processed inference results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface.helpers">
<span id="nv-ingest-api-internal-primitives-nim-model-interface-helpers-module"></span><h2>nv_ingest_api.internal.primitives.nim.model_interface.helpers module<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.helpers" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.helpers.get_model_name">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.helpers.</span></span><span class="sig-name descname"><span class="pre">get_model_name</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">http_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">default_model_name</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">metadata_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/v1/metadata'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">model_info_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'modelInfo'</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/helpers.html#get_model_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.get_model_name" title="Link to this definition">#</a></dt>
<dd><p>Get the model name of the server from its metadata endpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>http_endpoint</strong> (<em>str</em>) – The HTTP endpoint of the server.</p></li>
<li><p><strong>metadata_endpoint</strong> (<em>str</em><em>, </em><em>optional</em>) – The metadata endpoint to query (default: “/v1/metadata”).</p></li>
<li><p><strong>model_info_field</strong> (<em>str</em><em>, </em><em>optional</em>) – The field containing the model info in the response (default: “modelInfo”).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model name of the server, or an empty string if unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.helpers.get_version">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.helpers.</span></span><span class="sig-name descname"><span class="pre">get_version</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">http_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">metadata_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/v1/metadata'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">version_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'version'</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/helpers.html#get_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.get_version" title="Link to this definition">#</a></dt>
<dd><p>Get the version of the server from its metadata endpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>http_endpoint</strong> (<em>str</em>) – The HTTP endpoint of the server.</p></li>
<li><p><strong>metadata_endpoint</strong> (<em>str</em><em>, </em><em>optional</em>) – The metadata endpoint to query (default: “/v1/metadata”).</p></li>
<li><p><strong>version_field</strong> (<em>str</em><em>, </em><em>optional</em>) – The field containing the version in the response (default: “version”).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The version of the server, or an empty string if unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.helpers.is_ready">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.helpers.</span></span><span class="sig-name descname"><span class="pre">is_ready</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">http_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ready_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/helpers.html#is_ready"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.is_ready" title="Link to this definition">#</a></dt>
<dd><p>Check if the server at the given endpoint is ready.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>http_endpoint</strong> (<em>str</em>) – The HTTP endpoint of the server.</p></li>
<li><p><strong>ready_endpoint</strong> (<em>str</em>) – The specific ready-check endpoint.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the server is ready, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.helpers.preprocess_image_for_ocr">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.helpers.</span></span><span class="sig-name descname"><span class="pre">preprocess_image_for_ocr</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">target_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">target_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">pad_how</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'bottom_right'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">channel_first</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/helpers.html#preprocess_image_for_ocr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.preprocess_image_for_ocr" title="Link to this definition">#</a></dt>
<dd><p>Preprocesses an input image to be suitable for use with NemoRetriever-OCR.</p>
<p>This function is intended for preprocessing images to be passed as input to NemoRetriever-OCR using GRPC.
It is not necessary when using the HTTP endpoint.</p>
<section id="parameters">
<h3>Parameters:<a class="headerlink" href="#parameters" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>array<span class="classifier">np.ndarray</span></dt><dd><p>The input image array of shape (height, width, channels). It should have pixel values in the range [0, 255].</p>
</dd>
</dl>
</section>
<section id="returns">
<h3>Returns:<a class="headerlink" href="#returns" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>np.ndarray</dt><dd><p>A preprocessed image with the shape (channels, height, width).</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.helpers.preprocess_image_for_paddle">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.helpers.</span></span><span class="sig-name descname"><span class="pre">preprocess_image_for_paddle</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">image_max_dimension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">960</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/helpers.html#preprocess_image_for_paddle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.preprocess_image_for_paddle" title="Link to this definition">#</a></dt>
<dd><p>Preprocesses an input image to be suitable for use with PaddleOCR by resizing, normalizing, padding,
and transposing it into the required format.</p>
<p>This function is intended for preprocessing images to be passed as input to PaddleOCR using GRPC.
It is not necessary when using the HTTP endpoint.</p>
<section id="steps">
<h3>Steps:<a class="headerlink" href="#steps" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Resizes the image while maintaining aspect ratio such that its largest dimension is scaled to 960 pixels.</p></li>
<li><p>Normalizes the image using the <cite>normalize_image</cite> function.</p></li>
<li><p>Pads the image to ensure both its height and width are multiples of 32, as required by PaddleOCR.</p></li>
<li><p>Transposes the image from (height, width, channel) to (channel, height, width), the format expected by PaddleOCR.</p></li>
</ol>
</section>
<section id="id1">
<h3>Parameters:<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>array<span class="classifier">np.ndarray</span></dt><dd><p>The input image array of shape (height, width, channels). It should have pixel values in the range [0, 255].</p>
</dd>
</dl>
</section>
<section id="id2">
<h3>Returns:<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>np.ndarray</dt><dd><p>A preprocessed image with the shape (channels, height, width) and normalized pixel values.
The image will be padded to have dimensions that are multiples of 32, with the padding color set to 0.</p>
</dd>
</dl>
</section>
<section id="notes">
<h3>Notes:<a class="headerlink" href="#notes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>The image is resized so that its largest dimension becomes 960 pixels, maintaining the aspect ratio.</p></li>
<li><p>After normalization, the image is padded to the nearest multiple of 32 in both dimensions, which is
a requirement for PaddleOCR.</p></li>
<li><p>The normalized pixel values are scaled between 0 and 1 before padding and transposing the image.</p></li>
</ul>
</section>
</dd></dl>

</section>
<section id="nv-ingest-api-internal-primitives-nim-model-interface-nemoretriever-parse-module">
<h2>nv_ingest_api.internal.primitives.nim.model_interface.nemoretriever_parse module<a class="headerlink" href="#nv-ingest-api-internal-primitives-nim-model-interface-nemoretriever-parse-module" title="Link to this heading">#</a></h2>
</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface.ocr">
<span id="nv-ingest-api-internal-primitives-nim-model-interface-ocr-module"></span><h2>nv_ingest_api.internal.primitives.nim.model_interface.ocr module<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.ocr" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.ocr.</span></span><span class="sig-name descname"><span class="pre">NemoRetrieverOCRModelInterface</span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#NemoRetrieverOCRModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase" title="nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OCRModelInterfaceBase</span></code></a></p>
<p>An interface for handling inference with NemoRetrieverOCR model, supporting both gRPC and HTTP protocols.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.coalesce_requests_to_batch">
<span class="sig-name descname"><span class="pre">coalesce_requests_to_batch</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">requests</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">original_image_shapes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#NemoRetrieverOCRModelInterface.coalesce_requests_to_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.coalesce_requests_to_batch" title="Link to this definition">#</a></dt>
<dd><p>Takes a list of individual data items (NumPy image arrays) and combines them
into a single formatted batch ready for inference.</p>
<p>This method mirrors the logic of <cite>format_input</cite> but operates on an already-formed
batch from the dynamic batcher, so it does not perform any chunking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>requests</strong> (<em>List</em><em>[</em><em>np.ndarray</em><em>]</em>) – A list of single data items, which are NumPy arrays representing images.</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The inference protocol, either “grpc” or “http”.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Additional keyword arguments, such as <cite>model_name</cite> and <cite>merge_level</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing two lists, each with a single element:
- The first list contains the single formatted batch.
- The second list contains the single scratch-pad dictionary for that batch.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[Any], List[Dict[str, Any]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.format_input">
<span class="sig-name descname"><span class="pre">format_input</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#NemoRetrieverOCRModelInterface.format_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.format_input" title="Link to this definition">#</a></dt>
<dd><p>Format input data for the specified protocol (“grpc” or “http”), supporting batched data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em><em> of </em><em>str -&gt; Any</em>) – The input data dictionary, expected to contain “images” (list of np.ndarray)
and “image_dims” (list of (height, width) tuples), as produced by prepare_data_for_inference.</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The inference protocol, either “grpc” or “http”.</p></li>
<li><p><strong>max_batch_size</strong> (<em>int</em>) – The maximum batch size for batching.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple (formatted_batches, formatted_batch_data) where:</dt><dd><ul class="simple">
<li><p>formatted_batches is a list of batches ready for inference.</p></li>
<li><p>formatted_batch_data is a list of scratch-pad dictionaries corresponding to each batch,
containing the keys “images” and “image_dims” for later post-processing.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If either “images” or “image_dims” is not found in <cite>data</cite>.</p></li>
<li><p><strong>ValueError</strong> – If an invalid protocol is specified.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#NemoRetrieverOCRModelInterface.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.name" title="Link to this definition">#</a></dt>
<dd><p>Get the name of the model interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the model interface.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.prepare_data_for_inference">
<span class="sig-name descname"><span class="pre">prepare_data_for_inference</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#NemoRetrieverOCRModelInterface.prepare_data_for_inference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.prepare_data_for_inference" title="Link to this definition">#</a></dt>
<dd><p>Decode one or more base64-encoded images into NumPy arrays, storing them
alongside their dimensions in <cite>data</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em><em> of </em><em>str -&gt; Any</em>) – <dl class="simple">
<dt>The input data containing either:</dt><dd><ul class="simple">
<li><p>’base64_image’: a single base64-encoded image, or</p></li>
<li><p>’base64_images’: a list of base64-encoded images.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated data dictionary with the following keys added:
- “images”: List of decoded NumPy arrays of shape (H, W, C).
- “image_dims”: List of (height, width) tuples for each decoded image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict of str -&gt; Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If neither ‘base64_image’ nor ‘base64_images’ is found in <cite>data</cite>.</p></li>
<li><p><strong>ValueError</strong> – If ‘base64_images’ is present but is not a list.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.ocr.</span></span><span class="sig-name descname"><span class="pre">OCRModelInterfaceBase</span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#OCRModelInterfaceBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="nv_ingest_api.internal.primitives.nim.html#nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface" title="nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelInterface</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.BYTES_PER_ELEMENT">
<span class="sig-name descname"><span class="pre">BYTES_PER_ELEMENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.BYTES_PER_ELEMENT" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.NUM_CHANNELS">
<span class="sig-name descname"><span class="pre">NUM_CHANNELS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.NUM_CHANNELS" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.does_item_fit_in_batch">
<span class="sig-name descname"><span class="pre">does_item_fit_in_batch</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">current_batch</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">next_request</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">memory_budget_bytes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#OCRModelInterfaceBase.does_item_fit_in_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.does_item_fit_in_batch" title="Link to this definition">#</a></dt>
<dd><p>Estimates the memory of a potential batch of padded images and checks it
against the configured budget.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.parse_output">
<span class="sig-name descname"><span class="pre">parse_output</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'scene_text_ensemble'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#OCRModelInterfaceBase.parse_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.parse_output" title="Link to this definition">#</a></dt>
<dd><p>Parse the model’s inference response for the given protocol. The parsing
may handle batched outputs for multiple images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>Any</em>) – The raw response from the OCR model.</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The protocol used for inference, “grpc” or “http”.</p></li>
<li><p><strong>data</strong> (<em>dict</em><em> of </em><em>str -&gt; Any</em><em>, </em><em>optional</em>) – Additional data dictionary that may include “image_dims” for bounding box scaling.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Additional keyword arguments, such as custom <cite>table_content_format</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parsed output, typically a list of (content, table_content_format) tuples.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If an invalid protocol is specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.process_inference_results">
<span class="sig-name descname"><span class="pre">process_inference_results</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#OCRModelInterfaceBase.process_inference_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.process_inference_results" title="Link to this definition">#</a></dt>
<dd><p>Process inference results for the OCR model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> (<em>Any</em>) – The raw output parsed from the OCR model.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Additional keyword arguments for customization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The post-processed inference results. By default, this simply returns the output
as the table content (or content list).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.ocr.</span></span><span class="sig-name descname"><span class="pre">PaddleOCRModelInterface</span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#PaddleOCRModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase" title="nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OCRModelInterfaceBase</span></code></a></p>
<p>An interface for handling inference with a legacy OCR model, supporting both gRPC and HTTP protocols.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface.format_input">
<span class="sig-name descname"><span class="pre">format_input</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#PaddleOCRModelInterface.format_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface.format_input" title="Link to this definition">#</a></dt>
<dd><p>Format input data for the specified protocol (“grpc” or “http”), supporting batched data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em><em> of </em><em>str -&gt; Any</em>) – The input data dictionary, expected to contain “images” (list of np.ndarray)
and “image_dims” (list of (height, width) tuples), as produced by prepare_data_for_inference.</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The inference protocol, either “grpc” or “http”.</p></li>
<li><p><strong>max_batch_size</strong> (<em>int</em>) – The maximum batch size for batching.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple (formatted_batches, formatted_batch_data) where:</dt><dd><ul class="simple">
<li><p>formatted_batches is a list of batches ready for inference.</p></li>
<li><p>formatted_batch_data is a list of scratch-pad dictionaries corresponding to each batch,
containing the keys “images” and “image_dims” for later post-processing.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If either “images” or “image_dims” is not found in <cite>data</cite>.</p></li>
<li><p><strong>ValueError</strong> – If an invalid protocol is specified.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#PaddleOCRModelInterface.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface.name" title="Link to this definition">#</a></dt>
<dd><p>Get the name of the model interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the model interface.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface.prepare_data_for_inference">
<span class="sig-name descname"><span class="pre">prepare_data_for_inference</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#PaddleOCRModelInterface.prepare_data_for_inference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface.prepare_data_for_inference" title="Link to this definition">#</a></dt>
<dd><p>Decode one or more base64-encoded images into NumPy arrays, storing them
alongside their dimensions in <cite>data</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em><em> of </em><em>str -&gt; Any</em>) – <dl class="simple">
<dt>The input data containing either:</dt><dd><ul class="simple">
<li><p>’base64_image’: a single base64-encoded image, or</p></li>
<li><p>’base64_images’: a list of base64-encoded images.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated data dictionary with the following keys added:
- “images”: List of decoded NumPy arrays of shape (H, W, C).
- “image_dims”: List of (height, width) tuples for each decoded image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict of str -&gt; Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If neither ‘base64_image’ nor ‘base64_images’ is found in <cite>data</cite>.</p></li>
<li><p><strong>ValueError</strong> – If ‘base64_images’ is present but is not a list.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.ocr.get_ocr_model_name">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.ocr.</span></span><span class="sig-name descname"><span class="pre">get_ocr_model_name</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">ocr_grpc_endpoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">default_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scene_text_ensemble'</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/ocr.html#get_ocr_model_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.get_ocr_model_name" title="Link to this definition">#</a></dt>
<dd><p>Determines the OCR model name by checking the environment, querying the gRPC endpoint,
or falling back to a default.</p>
</dd></dl>

</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface.parakeet">
<span id="nv-ingest-api-internal-primitives-nim-model-interface-parakeet-module"></span><h2>nv_ingest_api.internal.primitives.nim.model_interface.parakeet module<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.parakeet" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.parakeet.</span></span><span class="sig-name descname"><span class="pre">ParakeetClient</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">auth_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">function_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">use_ssl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">ssl_cert</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/parakeet.html#ParakeetClient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A simple interface for handling inference with a Parakeet model (e.g., speech, audio-related).</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient.infer">
<span class="sig-name descname"><span class="pre">infer</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/parakeet.html#ParakeetClient.infer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient.infer" title="Link to this definition">#</a></dt>
<dd><p>Perform inference using the specified model and input data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – The input data for inference.</p></li>
<li><p><strong>model_name</strong> (<em>str</em>) – The model name.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional parameters for inference.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The processed inference results, coalesced in the same order as the input images.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient.transcribe">
<span class="sig-name descname"><span class="pre">transcribe</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">audio_content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">language_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'en-US'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">automatic_punctuation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">word_time_offsets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_alternatives</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">profanity_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">verbatim_transcripts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">speaker_diarization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">boosted_lm_words</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">boosted_lm_score</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">diarization_max_speakers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">start_history</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">start_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">stop_history</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">stop_history_eou</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">stop_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">stop_threshold_eou</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/parakeet.html#ParakeetClient.transcribe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient.transcribe" title="Link to this definition">#</a></dt>
<dd><p>Transcribe an audio file using Riva ASR.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>audio_content</strong> (<em>str</em>) – Base64-encoded audio content to be transcribed.</p></li>
<li><p><strong>language_code</strong> (<em>str</em><em>, </em><em>default=&quot;en-US&quot;</em>) – The language code for transcription.</p></li>
<li><p><strong>automatic_punctuation</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Whether to enable automatic punctuation in the transcript.</p></li>
<li><p><strong>word_time_offsets</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Whether to include word-level timestamps in the transcript.</p></li>
<li><p><strong>max_alternatives</strong> (<em>int</em><em>, </em><em>default=1</em>) – The maximum number of alternative transcripts to return.</p></li>
<li><p><strong>profanity_filter</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to filter out profanity from the transcript.</p></li>
<li><p><strong>verbatim_transcripts</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Whether to return verbatim transcripts without normalization.</p></li>
<li><p><strong>speaker_diarization</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to enable speaker diarization.</p></li>
<li><p><strong>boosted_lm_words</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>default=None</em>) – A list of words to boost for language modeling.</p></li>
<li><p><strong>boosted_lm_score</strong> (<em>float</em><em>, </em><em>default=0.0</em>) – The boosting score for language model words.</p></li>
<li><p><strong>diarization_max_speakers</strong> (<em>int</em><em>, </em><em>default=0</em>) – The maximum number of speakers to differentiate in speaker diarization.</p></li>
<li><p><strong>start_history</strong> (<em>float</em><em>, </em><em>default=0.0</em>) – History window size for endpoint detection.</p></li>
<li><p><strong>start_threshold</strong> (<em>float</em><em>, </em><em>default=0.0</em>) – The threshold for starting speech detection.</p></li>
<li><p><strong>stop_history</strong> (<em>float</em><em>, </em><em>default=0.0</em>) – History window size for stopping speech detection.</p></li>
<li><p><strong>stop_history_eou</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to use an end-of-utterance flag for stopping detection.</p></li>
<li><p><strong>stop_threshold</strong> (<em>float</em><em>, </em><em>default=0.0</em>) – The threshold for stopping speech detection.</p></li>
<li><p><strong>stop_threshold_eou</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to use an end-of-utterance flag for stop threshold.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response containing the transcription results.
Returns None if the transcription fails.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[riva.client.RecognitionResponse]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.parakeet.convert_to_mono_wav">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.parakeet.</span></span><span class="sig-name descname"><span class="pre">convert_to_mono_wav</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">audio_bytes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/parakeet.html#convert_to_mono_wav"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.convert_to_mono_wav" title="Link to this definition">#</a></dt>
<dd><p>Convert an audio file to mono WAV format using Librosa and SciPy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>audio_bytes</strong> (<em>bytes</em>) – The raw audio data in bytes.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The processed audio in mono WAV format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.parakeet.create_audio_inference_client">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.parakeet.</span></span><span class="sig-name descname"><span class="pre">create_audio_inference_client</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">endpoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">infer_protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">auth_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">function_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">use_ssl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">ssl_cert</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/parakeet.html#create_audio_inference_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.create_audio_inference_client" title="Link to this definition">#</a></dt>
<dd><p>Create a ParakeetClient for interfacing with an audio model inference server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoints</strong> (<em>tuple</em>) – A tuple containing the gRPC and HTTP endpoints. Only the gRPC endpoint is used.</p></li>
<li><p><strong>infer_protocol</strong> (<em>str</em><em>, </em><em>optional</em>) – The protocol to use (“grpc” or “http”).
If not specified, defaults to “grpc” if a valid gRPC endpoint is provided.
HTTP endpoints are not supported for audio inference.</p></li>
<li><p><strong>auth_token</strong> (<em>str</em><em>, </em><em>optional</em>) – Authorization token for authentication (default: None).</p></li>
<li><p><strong>function_id</strong> (<em>str</em><em>, </em><em>optional</em>) – NVCF function ID of the invocation (default: None)</p></li>
<li><p><strong>use_ssl</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use SSL for secure communication (default: False).</p></li>
<li><p><strong>ssl_cert</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the SSL certificate file if <cite>use_ssl</cite> is enabled (default: None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The initialized ParakeetClient configured for audio inference over gRPC.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient" title="nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient">ParakeetClient</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If an invalid <cite>infer_protocol</cite> is specified or if an HTTP endpoint is provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.parakeet.process_transcription_response">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.parakeet.</span></span><span class="sig-name descname"><span class="pre">process_transcription_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/parakeet.html#process_transcription_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.process_transcription_response" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Process a Riva transcription response (a protobuf message) to extract:</dt><dd><ul class="simple">
<li><p>final_transcript: the complete transcript.</p></li>
<li><p>segments: a list of segments with start/end times and text.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>response</strong> – The Riva transcription response message.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Each segment is a dict with keys “start”, “end”, and “text”.
final_transcript (str): The overall transcript.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>segments (list)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface.text_embedding">
<span id="nv-ingest-api-internal-primitives-nim-model-interface-text-embedding-module"></span><h2>nv_ingest_api.internal.primitives.nim.model_interface.text_embedding module<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.text_embedding" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.</span></span><span class="sig-name descname"><span class="pre">EmbeddingModelInterface</span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/text_embedding.html#EmbeddingModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="nv_ingest_api.internal.primitives.nim.html#nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface" title="nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelInterface</span></code></a></p>
<p>An interface for handling inference with an embedding model endpoint.
This implementation supports HTTP inference for generating embeddings from text prompts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.format_input">
<span class="sig-name descname"><span class="pre">format_input</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/text_embedding.html#EmbeddingModelInterface.format_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.format_input" title="Link to this definition">#</a></dt>
<dd><p>Format the input payload for the embedding endpoint. This method constructs one payload per batch,
where each payload includes a list of text prompts.
Additionally, it returns batch data that preserves the original order of prompts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – The input data containing “prompts” (a list of text prompts).</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – Only “http” is supported.</p></li>
<li><p><strong>max_batch_size</strong> (<em>int</em>) – Maximum number of prompts per payload.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional parameters including model_name, encoding_format, input_type, and truncate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple (payloads, batch_data_list) where:</dt><dd><ul class="simple">
<li><p>payloads is a list of JSON-serializable payload dictionaries.</p></li>
<li><p>batch_data_list is a list of dictionaries containing the key “prompts” corresponding to each batch.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/text_embedding.html#EmbeddingModelInterface.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.name" title="Link to this definition">#</a></dt>
<dd><p>Return the name of this model interface.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.parse_output">
<span class="sig-name descname"><span class="pre">parse_output</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/text_embedding.html#EmbeddingModelInterface.parse_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.parse_output" title="Link to this definition">#</a></dt>
<dd><p>Parse the HTTP response from the embedding endpoint. Expects a response structure with a “data” key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>Any</em>) – The raw HTTP response (assumed to be already decoded as JSON).</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – Only “http” is supported.</p></li>
<li><p><strong>data</strong> (<em>dict</em><em>, </em><em>optional</em>) – The original input data.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of generated embeddings extracted from the response.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.prepare_data_for_inference">
<span class="sig-name descname"><span class="pre">prepare_data_for_inference</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/text_embedding.html#EmbeddingModelInterface.prepare_data_for_inference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.prepare_data_for_inference" title="Link to this definition">#</a></dt>
<dd><p>Prepare input data for embedding inference. Returns a list of strings representing the text to be embedded.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.process_inference_results">
<span class="sig-name descname"><span class="pre">process_inference_results</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/text_embedding.html#EmbeddingModelInterface.process_inference_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.process_inference_results" title="Link to this definition">#</a></dt>
<dd><p>Process inference results for the embedding model.
For this implementation, the output is expected to be a list of embeddings.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The processed list of embeddings.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface.vlm">
<span id="nv-ingest-api-internal-primitives-nim-model-interface-vlm-module"></span><h2>nv_ingest_api.internal.primitives.nim.model_interface.vlm module<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.vlm" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.vlm.</span></span><span class="sig-name descname"><span class="pre">VLMModelInterface</span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/vlm.html#VLMModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="nv_ingest_api.internal.primitives.nim.html#nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface" title="nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelInterface</span></code></a></p>
<p>An interface for handling inference with a VLM model endpoint (e.g., NVIDIA LLaMA-based VLM).
This implementation supports HTTP inference with one or more base64-encoded images and a caption prompt.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.format_input">
<span class="sig-name descname"><span class="pre">format_input</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/vlm.html#VLMModelInterface.format_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.format_input" title="Link to this definition">#</a></dt>
<dd><p>Format the input payload for the VLM endpoint. This method constructs one payload per batch,
where each payload includes one message per image in the batch.
Additionally, it returns batch data that preserves the original order of images by including
the list of base64 images and the prompt for each batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – The input data containing “base64_images” (a list of base64-encoded images) and “prompt”.</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – Only “http” is supported.</p></li>
<li><p><strong>max_batch_size</strong> (<em>int</em>) – Maximum number of images per payload.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional parameters including model_name, max_tokens, temperature, top_p, and stream.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple (payloads, batch_data_list) where:</dt><dd><ul class="simple">
<li><p>payloads is a list of JSON-serializable payload dictionaries.</p></li>
<li><p>batch_data_list is a list of dictionaries containing the keys “base64_images” and “prompt”
corresponding to each batch.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/vlm.html#VLMModelInterface.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.name" title="Link to this definition">#</a></dt>
<dd><p>Return the name of this model interface.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.parse_output">
<span class="sig-name descname"><span class="pre">parse_output</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/vlm.html#VLMModelInterface.parse_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.parse_output" title="Link to this definition">#</a></dt>
<dd><p>Parse the HTTP response from the VLM endpoint. Expects a response structure with a “choices” key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>Any</em>) – The raw HTTP response (assumed to be already decoded as JSON).</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – Only “http” is supported.</p></li>
<li><p><strong>data</strong> (<em>dict</em><em>, </em><em>optional</em>) – The original input data.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of generated captions extracted from the response.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.prepare_data_for_inference">
<span class="sig-name descname"><span class="pre">prepare_data_for_inference</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/vlm.html#VLMModelInterface.prepare_data_for_inference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.prepare_data_for_inference" title="Link to this definition">#</a></dt>
<dd><p>Prepare input data for VLM inference. Accepts either a single base64 image or a list of images.
Ensures that a ‘prompt’ is provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError</strong> – If neither “base64_image” nor “base64_images” is provided or if “prompt” is missing.</p></li>
<li><p><strong>ValueError</strong> – If “base64_images” exists but is not a list.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.process_inference_results">
<span class="sig-name descname"><span class="pre">process_inference_results</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/vlm.html#VLMModelInterface.process_inference_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.process_inference_results" title="Link to this definition">#</a></dt>
<dd><p>Process inference results for the VLM model.
For this implementation, the output is expected to be a list of captions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The processed list of captions.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface.yolox">
<span id="nv-ingest-api-internal-primitives-nim-model-interface-yolox-module"></span><h2>nv_ingest_api.internal.primitives.nim.model_interface.yolox module<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.yolox" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxGraphicElementsModelInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">YoloxGraphicElementsModelInterface</span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxGraphicElementsModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxGraphicElementsModelInterface" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase" title="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">YoloxModelInterfaceBase</span></code></a></p>
<p>An interface for handling inference with yolox-graphic-elemenents model, supporting both gRPC and HTTP protocols.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxGraphicElementsModelInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxGraphicElementsModelInterface.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxGraphicElementsModelInterface.name" title="Link to this definition">#</a></dt>
<dd><p>Returns the name of the Yolox model interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the model interface.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxGraphicElementsModelInterface.postprocess_annotations">
<span class="sig-name descname"><span class="pre">postprocess_annotations</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">annotation_dicts</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxGraphicElementsModelInterface.postprocess_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxGraphicElementsModelInterface.postprocess_annotations" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">YoloxModelInterfaceBase</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">nim_max_image_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">conf_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">iou_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">min_score</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">class_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxModelInterfaceBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="nv_ingest_api.internal.primitives.nim.html#nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface" title="nv_ingest_api.internal.primitives.nim.nim_model_interface.ModelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelInterface</span></code></a></p>
<p>An interface for handling inference with a Yolox object detection model, supporting both gRPC and HTTP protocols.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.format_input">
<span class="sig-name descname"><span class="pre">format_input</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxModelInterfaceBase.format_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.format_input" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Format input data for the specified protocol, returning a tuple of:</dt><dd><p>(formatted_batches, formatted_batch_data)</p>
</dd>
<dt>where:</dt><dd><ul class="simple">
<li><p>For gRPC: formatted_batches is a list of NumPy arrays, each of shape (B, H, W, C)
with B &lt;= max_batch_size.</p></li>
<li><p>For HTTP: formatted_batches is a list of JSON-serializable dict payloads.</p></li>
<li><p>In both cases, formatted_batch_data is a list of dicts that coalesce the original
images and their original shapes in the same order as provided.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – <dl class="simple">
<dt>The input data to format. Must include:</dt><dd><ul>
<li><p>”images”: a list of numpy.ndarray images.</p></li>
<li><p>”original_image_shapes”: a list of tuples with each image’s (height, width),
as set by prepare_data_for_inference.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The protocol to use (“grpc” or “http”).</p></li>
<li><p><strong>max_batch_size</strong> (<em>int</em>) – The maximum number of images per batch.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple (formatted_batches, formatted_batch_data).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the protocol is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.parse_output">
<span class="sig-name descname"><span class="pre">parse_output</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxModelInterfaceBase.parse_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.parse_output" title="Link to this definition">#</a></dt>
<dd><p>Parse the output from the model’s inference response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>Any</em>) – The response from the model inference.</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – The protocol used (“grpc” or “http”).</p></li>
<li><p><strong>data</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional input data passed to the function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parsed output data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If an invalid protocol is specified or the response format is unexpected.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.postprocess_annotations">
<span class="sig-name descname"><span class="pre">postprocess_annotations</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">annotation_dicts</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxModelInterfaceBase.postprocess_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.postprocess_annotations" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.prepare_data_for_inference">
<span class="sig-name descname"><span class="pre">prepare_data_for_inference</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxModelInterfaceBase.prepare_data_for_inference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.prepare_data_for_inference" title="Link to this definition">#</a></dt>
<dd><p>Prepare input data for inference by resizing images and storing their original shapes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em>) – The input data containing a list of images.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated data dictionary with resized images and original image shapes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.process_inference_results">
<span class="sig-name descname"><span class="pre">process_inference_results</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxModelInterfaceBase.process_inference_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.process_inference_results" title="Link to this definition">#</a></dt>
<dd><p>Process the results of the Yolox model inference and return the final annotations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_array</strong> (<em>np.ndarray</em>) – The raw output from the Yolox model.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional parameters for processing, including thresholds and number of classes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of annotation dictionaries for each image in the batch.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.transform_normalized_coordinates_to_original">
<span class="sig-name descname"><span class="pre">transform_normalized_coordinates_to_original</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">results</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">original_image_shapes</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxModelInterfaceBase.transform_normalized_coordinates_to_original"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.transform_normalized_coordinates_to_original" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxPageElementsModelInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">YoloxPageElementsModelInterface</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'nemoretriever-page-elements-v3'</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxPageElementsModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxPageElementsModelInterface" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase" title="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">YoloxModelInterfaceBase</span></code></a></p>
<p>An interface for handling inference with yolox-page-elements model, supporting both gRPC and HTTP protocols.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxPageElementsModelInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxPageElementsModelInterface.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxPageElementsModelInterface.name" title="Link to this definition">#</a></dt>
<dd><p>Returns the name of the Yolox model interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the model interface.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxPageElementsModelInterface.postprocess_annotations">
<span class="sig-name descname"><span class="pre">postprocess_annotations</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">annotation_dicts</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">final_score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxPageElementsModelInterface.postprocess_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxPageElementsModelInterface.postprocess_annotations" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxTableStructureModelInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">YoloxTableStructureModelInterface</span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxTableStructureModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxTableStructureModelInterface" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase" title="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">YoloxModelInterfaceBase</span></code></a></p>
<p>An interface for handling inference with yolox-graphic-elemenents model, supporting both gRPC and HTTP protocols.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxTableStructureModelInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxTableStructureModelInterface.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxTableStructureModelInterface.name" title="Link to this definition">#</a></dt>
<dd><p>Returns the name of the Yolox model interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the model interface.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxTableStructureModelInterface.postprocess_annotations">
<span class="sig-name descname"><span class="pre">postprocess_annotations</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">annotation_dicts</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#YoloxTableStructureModelInterface.postprocess_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxTableStructureModelInterface.postprocess_annotations" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.batched_overlaps">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">batched_overlaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#batched_overlaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.batched_overlaps" title="Link to this definition">#</a></dt>
<dd><p>Calculate the Intersection over Union (IoU) between
two sets of bounding boxes in a batched manner.
Normalization is modified to only use the area of A boxes, hence computing the overlaps.
:param A: Array of bounding boxes of shape (N, 4) in format [x1, y1, x2, y2].
:type A: ndarray
:param B: Array of bounding boxes of shape (M, 4) in format [x1, y1, x2, y2].
:type B: ndarray</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Array of IoU values of shape (N, M) representing the overlaps</dt><dd><p>between each pair of bounding boxes.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.bb_iou_array">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">bb_iou_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_box</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#bb_iou_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.bb_iou_array" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_boxes_v1">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">expand_boxes_v1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#expand_boxes_v1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_boxes_v1" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_boxes_v3">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">expand_boxes_v3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_agnostic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#expand_boxes_v3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_boxes_v3" title="Link to this definition">#</a></dt>
<dd><p>Expands bounding boxes by a specified ratio.
Expected box format is normalized [x_min, y_min, x_max, y_max].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boxes</strong> (<em>numpy.ndarray</em>) – Array of bounding boxes with shape (N, 4).</p></li>
<li><p><strong>r_x</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Left, right expansion ratios. Defaults to (1, 1) (no expansion).</p></li>
<li><p><strong>r_y</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Up, down expansion ratios. Defaults to (1, 1) (no expansion).</p></li>
<li><p><strong>size_agnostic</strong> (<em>bool</em><em>, </em><em>optional</em>) – Expand independently of the bbox shape. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Adjusted bounding boxes clipped to the [0, 1] range.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_chart_bboxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">expand_chart_bboxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotation_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#expand_chart_bboxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_chart_bboxes" title="Link to this definition">#</a></dt>
<dd><p>Expand bounding boxes of charts and titles based on the bounding boxes of the other class.
:param annotation_dict: output of postprocess_results, a dictionary with keys “table”, “figure”, “title”</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>same as input, with expanded bboxes for charts</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>annotation_dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_table_bboxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">expand_table_bboxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotation_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#expand_table_bboxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_table_bboxes" title="Link to this definition">#</a></dt>
<dd><p>Additional preprocessing for tables: extend the upper bounds to capture titles if any.
:param annotation_dict: output of postprocess_results, a dictionary with keys “table”, “figure”, “title”</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>same as input, with expanded bboxes for charts</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>annotation_dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_tables_and_charts">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">expand_tables_and_charts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">found_title</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#expand_tables_and_charts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_tables_and_charts" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.find_boxes_inside">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">find_boxes_inside</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boxes_to_check</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#find_boxes_inside"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.find_boxes_inside" title="Link to this definition">#</a></dt>
<dd><p>Find all boxes that are inside another box based on
the intersection area divided by the area of the smaller box,
and removes them.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.find_matching_box_fast">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">find_matching_box_fast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_box</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_iou</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#find_matching_box_fast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.find_matching_box_fast" title="Link to this definition">#</a></dt>
<dd><p>Reimplementation of find_matching_box with numpy instead of loops. Gives significant speed up for larger arrays
(~100x). This was previously the bottleneck since the function is called for every entry in the array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_bbox_dict_yolox_graphic">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">get_bbox_dict_yolox_graphic</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">preds</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">class_labels</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">threshold_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#get_bbox_dict_yolox_graphic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_bbox_dict_yolox_graphic" title="Link to this definition">#</a></dt>
<dd><p>Extracts bounding boxes from YOLOX model predictions:
- Applies thresholding
- Reformats boxes
- Cleans the <cite>other</cite> detections: removes the ones that are included  in other detections.
- If no title is found, the biggest <cite>other</cite> box is used if it is larger than 0.3*img_w.
:param preds: YOLOX model predictions including bounding boxes, scores, and labels.
:type preds: np.ndarray
:param shape: Original image shape.
:type shape: tuple
:param <a href="#id3"><span class="problematic" id="id4">threshold_</span></a>: Score threshold to filter bounding boxes.
:type <a href="#id5"><span class="problematic" id="id6">threshold_</span></a>: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary of bounding boxes, organized by class.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_bbox_dict_yolox_table">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">get_bbox_dict_yolox_table</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">preds</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">class_labels</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#get_bbox_dict_yolox_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_bbox_dict_yolox_table" title="Link to this definition">#</a></dt>
<dd><p>Extracts bounding boxes from YOLOX model predictions:
- Applies thresholding
- Reformats boxes
- Reorders predictions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>preds</strong> (<em>np.ndarray</em>) – YOLOX model predictions including bounding boxes, scores, and labels.</p></li>
<li><p><strong>shape</strong> (<em>tuple</em>) – Original image shape.</p></li>
<li><p><strong>config</strong> – Model configuration, including size for bounding box adjustment.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – Score threshold to filter bounding boxes.</p></li>
<li><p><strong>delta</strong> (<em>float</em>) – How much the table was cropped upwards.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of bounding boxes, organized by class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_biggest_box">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">get_biggest_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conf_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'avg'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#get_biggest_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_biggest_box" title="Link to this definition">#</a></dt>
<dd><p>Merges boxes by using the biggest box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boxes</strong> (<em>np array</em><em> [</em><em>n x 8</em><em>]</em>) – Boxes to merge.</p></li>
<li><p><strong>conf_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Confidence merging type. Defaults to “avg”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Merged box.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np array [8]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_overlaps">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">get_overlaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'box_only'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#get_overlaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_overlaps" title="Link to this definition">#</a></dt>
<dd><p>Checks if a box overlaps with any other box.
Boxes are expeceted in format (x0, y0, x1, y1)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boxes</strong> (<em>np array</em><em> [</em><em>4</em><em>] or </em><em>[</em><em>n x 4</em><em>]</em>) – Boxes.</p></li>
<li><p><strong>other_boxes</strong> (<em>np array</em><em> [</em><em>m x 4</em><em>]</em>) – Other boxes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Overlaps.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np array [n x m]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_weighted_box">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">get_weighted_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conf_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'avg'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#get_weighted_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_weighted_box" title="Link to this definition">#</a></dt>
<dd><p>Merges boxes by using the weighted fusion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boxes</strong> (<em>np array</em><em> [</em><em>n x 8</em><em>]</em>) – Boxes to merge.</p></li>
<li><p><strong>conf_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Confidence merging type. Defaults to “avg”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Merged box.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np array [8]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_yolox_model_name">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">get_yolox_model_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yolox_grpc_endpoint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'yolox'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#get_yolox_model_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_yolox_model_name" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_yolox_page_version">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">get_yolox_page_version</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">yolox_http_endpoint</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">default_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nemoretriever-page-elements-v3'</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#get_yolox_page_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_yolox_page_version" title="Link to this definition">#</a></dt>
<dd><p>Determines the YOLOX page elements model version by querying the endpoint.
Falls back to a default version on failure.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_boxes_with_title">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">match_boxes_with_title</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">confs</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">classes</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">to_match_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['chart']</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">remove_matched_titles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#match_boxes_with_title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_boxes_with_title" title="Link to this definition">#</a></dt>
<dd><p>Matches charts with title.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boxes</strong> (<em>numpy.ndarray</em>) – Array of bounding boxes with shape (N, 4).</p></li>
<li><p><strong>confs</strong> (<em>numpy.ndarray</em>) – Array of confidence scores with shape (N,).</p></li>
<li><p><strong>labels</strong> (<em>numpy.ndarray</em>) – Array of labels with shape (N,).</p></li>
<li><p><strong>classes</strong> (<em>list</em>) – List of class names.</p></li>
<li><p><strong>to_match_labels</strong> (<em>list</em>) – List of class names to match with titles.</p></li>
<li><p><strong>remove_matched_titles</strong> (<em>bool</em>) – Whether to remove matched titles from the boxes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of bounding boxes with shape (M, 4).
confs (numpy.ndarray): Array of confidence scores with shape (M,).
labels (numpy.ndarray): Array of labels with shape (M,).
found_title (list): List of indices of matched titles.
no_found_title (list): List of indices of unmatched titles.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boxes (numpy.ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_structured_boxes_with_title">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">match_structured_boxes_with_title</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#match_structured_boxes_with_title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_structured_boxes_with_title" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_with_title_v1">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">match_with_title_v1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chart_bbox</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_bboxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iou_th</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#match_with_title_v1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_with_title_v1" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_with_title_v3">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">match_with_title_v3</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">title_bboxes</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">match_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">already_matched</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#match_with_title_v3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_with_title_v3" title="Link to this definition">#</a></dt>
<dd><p>Matches a bounding box with a title bounding box based on IoU or proximity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bbox</strong> (<em>numpy.ndarray</em>) – Bounding box to match with title [x_min, y_min, x_max, y_max].</p></li>
<li><p><strong>title_bboxes</strong> (<em>numpy.ndarray</em>) – Array of title bounding boxes with shape (N, 4).</p></li>
<li><p><strong>match_dist</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum distance for matching. Defaults to 0.1.</p></li>
<li><p><strong>delta</strong> (<em>float</em><em>, </em><em>optional</em>) – Multiplier for matching several titles. Defaults to 1.5.</p></li>
<li><p><strong>already_matched</strong> (<em>list</em><em>, </em><em>optional</em>) – List of already matched title indices. Defaults to [].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>If matched, returns a tuple of (merged_bbox, updated_title_bboxes).</dt><dd><p>If no match is found, returns None, None.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.merge_boxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">merge_boxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#merge_boxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.merge_boxes" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.merge_labels">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">merge_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#merge_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.merge_labels" title="Link to this definition">#</a></dt>
<dd><p>Custom function for merging labels.
If all labels are the same, return the unique value.
Else, return the label of the most confident non-title (class 2) box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> (<em>np array</em><em> [</em><em>n</em><em>]</em>) – Labels.</p></li>
<li><p><strong>confs</strong> (<em>np array</em><em> [</em><em>n</em><em>]</em>) – Confidence.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Label.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.postprocess_included">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">postprocess_included</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">confs</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">class_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'title'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['table',</span> <span class="pre">'chart',</span> <span class="pre">'title',</span> <span class="pre">'infographic']</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#postprocess_included"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.postprocess_included" title="Link to this definition">#</a></dt>
<dd><p>Post process title predictions.
- Remove titles that are included in other boxes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boxes</strong> (<em>numpy.ndarray</em><em> [</em><em>N</em><em>, </em><em>4</em><em>]</em>) – Array of bounding boxes.</p></li>
<li><p><strong>labels</strong> (<em>numpy.ndarray</em><em> [</em><em>N</em><em>]</em>) – Array of labels.</p></li>
<li><p><strong>confs</strong> (<em>numpy.ndarray</em><em> [</em><em>N</em><em>]</em>) – Array of confidences.</p></li>
<li><p><strong>class</strong> (<em>str</em><em>, </em><em>optional</em>) – Class to postprocess. Defaults to “title”.</p></li>
<li><p><strong>classes</strong> (<em>list</em><em>, </em><em>optional</em>) – Classes. Defaults to [“table”, “chart”, “title”, “infographic”].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of bounding boxes.
labels (numpy.ndarray): Array of labels.
confs (numpy.ndarray): Array of confidences.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boxes (numpy.ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.postprocess_included_texts">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">postprocess_included_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#postprocess_included_texts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.postprocess_included_texts" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.postprocess_page_elements_v3">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">postprocess_page_elements_v3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotation_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#postprocess_page_elements_v3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.postprocess_page_elements_v3" title="Link to this definition">#</a></dt>
<dd><p>Expand bounding boxes of tables/charts/infographics and titles based on the bounding boxes of the other class.
:param annotation_dict: output of postprocess_results, a dictionary with keys:
:param “table”:
:param “chart”:
:param “infographics”:
:param “title”:
:param “paragraph”:
:param “header_footer”.:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>same as input, with expanded bboxes for page elements.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>annotation_dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.prefilter_boxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">prefilter_boxes</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">thr</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">class_agnostic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#prefilter_boxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.prefilter_boxes" title="Link to this definition">#</a></dt>
<dd><p>Reformats and filters boxes.
Output is a dict of boxes to merge separately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boxes</strong> (<em>list</em><em>[</em><em>np array</em><em>[</em><em>n x 4</em><em>]</em><em>]</em>) – List of boxes. One list per model.</p></li>
<li><p><strong>scores</strong> (<em>list</em><em>[</em><em>np array</em><em>[</em><em>n</em><em>]</em><em>]</em>) – List of confidences.</p></li>
<li><p><strong>labels</strong> (<em>list</em><em>[</em><em>np array</em><em>[</em><em>n</em><em>]</em><em>]</em>) – List of labels.</p></li>
<li><p><strong>weights</strong> (<em>list</em>) – Model weights.</p></li>
<li><p><strong>thr</strong> (<em>float</em>) – Confidence threshold</p></li>
<li><p><strong>class_agnostic</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, merge boxes from different classes. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filtered boxes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[np array [? x 8]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.remove_overlapping_boxes_using_wbf">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">remove_overlapping_boxes_using_wbf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#remove_overlapping_boxes_using_wbf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.remove_overlapping_boxes_using_wbf" title="Link to this definition">#</a></dt>
<dd><p>Remove overlapping boxes using WBF</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.internal.primitives.nim.model_interface.yolox.weighted_boxes_fusion">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.internal.primitives.nim.model_interface.yolox.</span></span><span class="sig-name descname"><span class="pre">weighted_boxes_fusion</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">boxes_list</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">scores_list</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">labels_list</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">iou_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">skip_box_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">conf_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'avg'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">merge_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'weighted'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">class_agnostic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/internal/primitives/nim/model_interface/yolox.html#weighted_boxes_fusion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.weighted_boxes_fusion" title="Link to this definition">#</a></dt>
<dd><p>Custom wbf implementation that supports a class_agnostic mode and a biggest box fusion.
Boxes are expected to be in normalized (x0, y0, x1, y1) format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boxes_list</strong> (<em>list</em><em>[</em><em>np array</em><em>[</em><em>n x 4</em><em>]</em><em>]</em>) – List of boxes. One list per model.</p></li>
<li><p><strong>scores_list</strong> (<em>list</em><em>[</em><em>np array</em><em>[</em><em>n</em><em>]</em><em>]</em>) – List of confidences.</p></li>
<li><p><strong>labels_list</strong> (<em>list</em><em>[</em><em>np array</em><em>[</em><em>n</em><em>]</em><em>]</em>) – List of labels</p></li>
<li><p><strong>iou_thr</strong> (<em>float</em><em>, </em><em>optional</em>) – IoU threshold for matching. Defaults to 0.55.</p></li>
<li><p><strong>skip_box_thr</strong> (<em>float</em><em>, </em><em>optional</em>) – Exclude boxes with score &lt; skip_box_thr. Defaults to 0.0.</p></li>
<li><p><strong>conf_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Confidence merging type. Defaults to “avg”.</p></li>
<li><p><strong>merge_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Merge type “weighted” or “biggest”. Defaults to “weighted”.</p></li>
<li><p><strong>class_agnostic</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, merge boxes from different classes. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Merged boxes,
np array[N]: Merged confidences,
np array[N]: Merged labels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np array[N x 4]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nv_ingest_api.internal.primitives.nim.model_interface">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-nv_ingest_api.internal.primitives.nim.model_interface" title="Link to this heading">#</a></h2>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="nv_ingest_api.internal.primitives.nim.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">nv_ingest_api.internal.primitives.nim package</p>
      </div>
    </a>
    <a class="right-next"
       href="nv_ingest_api.internal.primitives.tracing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">nv_ingest_api.internal.primitives.tracing package</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.cached">nv_ingest_api.internal.primitives.nim.model_interface.cached module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface"><code class="docutils literal notranslate"><span class="pre">CachedModelInterface</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.format_input"><code class="docutils literal notranslate"><span class="pre">format_input()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.parse_output"><code class="docutils literal notranslate"><span class="pre">parse_output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.prepare_data_for_inference"><code class="docutils literal notranslate"><span class="pre">prepare_data_for_inference()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.cached.CachedModelInterface.process_inference_results"><code class="docutils literal notranslate"><span class="pre">process_inference_results()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.decorators">nv_ingest_api.internal.primitives.nim.model_interface.decorators module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.decorators.multiprocessing_cache"><code class="docutils literal notranslate"><span class="pre">multiprocessing_cache()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.deplot">nv_ingest_api.internal.primitives.nim.model_interface.deplot module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface"><code class="docutils literal notranslate"><span class="pre">DeplotModelInterface</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.format_input"><code class="docutils literal notranslate"><span class="pre">format_input()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.parse_output"><code class="docutils literal notranslate"><span class="pre">parse_output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.prepare_data_for_inference"><code class="docutils literal notranslate"><span class="pre">prepare_data_for_inference()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.deplot.DeplotModelInterface.process_inference_results"><code class="docutils literal notranslate"><span class="pre">process_inference_results()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.helpers">nv_ingest_api.internal.primitives.nim.model_interface.helpers module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.get_model_name"><code class="docutils literal notranslate"><span class="pre">get_model_name()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.get_version"><code class="docutils literal notranslate"><span class="pre">get_version()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.is_ready"><code class="docutils literal notranslate"><span class="pre">is_ready()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.preprocess_image_for_ocr"><code class="docutils literal notranslate"><span class="pre">preprocess_image_for_ocr()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.helpers.preprocess_image_for_paddle"><code class="docutils literal notranslate"><span class="pre">preprocess_image_for_paddle()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nv-ingest-api-internal-primitives-nim-model-interface-nemoretriever-parse-module">nv_ingest_api.internal.primitives.nim.model_interface.nemoretriever_parse module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.ocr">nv_ingest_api.internal.primitives.nim.model_interface.ocr module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface"><code class="docutils literal notranslate"><span class="pre">NemoRetrieverOCRModelInterface</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.coalesce_requests_to_batch"><code class="docutils literal notranslate"><span class="pre">coalesce_requests_to_batch()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.format_input"><code class="docutils literal notranslate"><span class="pre">format_input()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.NemoRetrieverOCRModelInterface.prepare_data_for_inference"><code class="docutils literal notranslate"><span class="pre">prepare_data_for_inference()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase"><code class="docutils literal notranslate"><span class="pre">OCRModelInterfaceBase</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.BYTES_PER_ELEMENT"><code class="docutils literal notranslate"><span class="pre">BYTES_PER_ELEMENT</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.NUM_CHANNELS"><code class="docutils literal notranslate"><span class="pre">NUM_CHANNELS</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.does_item_fit_in_batch"><code class="docutils literal notranslate"><span class="pre">does_item_fit_in_batch()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.parse_output"><code class="docutils literal notranslate"><span class="pre">parse_output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.OCRModelInterfaceBase.process_inference_results"><code class="docutils literal notranslate"><span class="pre">process_inference_results()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface"><code class="docutils literal notranslate"><span class="pre">PaddleOCRModelInterface</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface.format_input"><code class="docutils literal notranslate"><span class="pre">format_input()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.PaddleOCRModelInterface.prepare_data_for_inference"><code class="docutils literal notranslate"><span class="pre">prepare_data_for_inference()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.ocr.get_ocr_model_name"><code class="docutils literal notranslate"><span class="pre">get_ocr_model_name()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.parakeet">nv_ingest_api.internal.primitives.nim.model_interface.parakeet module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient"><code class="docutils literal notranslate"><span class="pre">ParakeetClient</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient.infer"><code class="docutils literal notranslate"><span class="pre">infer()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.ParakeetClient.transcribe"><code class="docutils literal notranslate"><span class="pre">transcribe()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.convert_to_mono_wav"><code class="docutils literal notranslate"><span class="pre">convert_to_mono_wav()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.create_audio_inference_client"><code class="docutils literal notranslate"><span class="pre">create_audio_inference_client()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.parakeet.process_transcription_response"><code class="docutils literal notranslate"><span class="pre">process_transcription_response()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.text_embedding">nv_ingest_api.internal.primitives.nim.model_interface.text_embedding module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface"><code class="docutils literal notranslate"><span class="pre">EmbeddingModelInterface</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.format_input"><code class="docutils literal notranslate"><span class="pre">format_input()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.parse_output"><code class="docutils literal notranslate"><span class="pre">parse_output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.prepare_data_for_inference"><code class="docutils literal notranslate"><span class="pre">prepare_data_for_inference()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.text_embedding.EmbeddingModelInterface.process_inference_results"><code class="docutils literal notranslate"><span class="pre">process_inference_results()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.vlm">nv_ingest_api.internal.primitives.nim.model_interface.vlm module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface"><code class="docutils literal notranslate"><span class="pre">VLMModelInterface</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.format_input"><code class="docutils literal notranslate"><span class="pre">format_input()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.parse_output"><code class="docutils literal notranslate"><span class="pre">parse_output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.prepare_data_for_inference"><code class="docutils literal notranslate"><span class="pre">prepare_data_for_inference()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.vlm.VLMModelInterface.process_inference_results"><code class="docutils literal notranslate"><span class="pre">process_inference_results()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface.yolox">nv_ingest_api.internal.primitives.nim.model_interface.yolox module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxGraphicElementsModelInterface"><code class="docutils literal notranslate"><span class="pre">YoloxGraphicElementsModelInterface</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxGraphicElementsModelInterface.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxGraphicElementsModelInterface.postprocess_annotations"><code class="docutils literal notranslate"><span class="pre">postprocess_annotations()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase"><code class="docutils literal notranslate"><span class="pre">YoloxModelInterfaceBase</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.format_input"><code class="docutils literal notranslate"><span class="pre">format_input()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.parse_output"><code class="docutils literal notranslate"><span class="pre">parse_output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.postprocess_annotations"><code class="docutils literal notranslate"><span class="pre">postprocess_annotations()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.prepare_data_for_inference"><code class="docutils literal notranslate"><span class="pre">prepare_data_for_inference()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.process_inference_results"><code class="docutils literal notranslate"><span class="pre">process_inference_results()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxModelInterfaceBase.transform_normalized_coordinates_to_original"><code class="docutils literal notranslate"><span class="pre">transform_normalized_coordinates_to_original()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxPageElementsModelInterface"><code class="docutils literal notranslate"><span class="pre">YoloxPageElementsModelInterface</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxPageElementsModelInterface.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxPageElementsModelInterface.postprocess_annotations"><code class="docutils literal notranslate"><span class="pre">postprocess_annotations()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxTableStructureModelInterface"><code class="docutils literal notranslate"><span class="pre">YoloxTableStructureModelInterface</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxTableStructureModelInterface.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.YoloxTableStructureModelInterface.postprocess_annotations"><code class="docutils literal notranslate"><span class="pre">postprocess_annotations()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.batched_overlaps"><code class="docutils literal notranslate"><span class="pre">batched_overlaps()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.bb_iou_array"><code class="docutils literal notranslate"><span class="pre">bb_iou_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_boxes_v1"><code class="docutils literal notranslate"><span class="pre">expand_boxes_v1()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_boxes_v3"><code class="docutils literal notranslate"><span class="pre">expand_boxes_v3()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_chart_bboxes"><code class="docutils literal notranslate"><span class="pre">expand_chart_bboxes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_table_bboxes"><code class="docutils literal notranslate"><span class="pre">expand_table_bboxes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.expand_tables_and_charts"><code class="docutils literal notranslate"><span class="pre">expand_tables_and_charts()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.find_boxes_inside"><code class="docutils literal notranslate"><span class="pre">find_boxes_inside()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.find_matching_box_fast"><code class="docutils literal notranslate"><span class="pre">find_matching_box_fast()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_bbox_dict_yolox_graphic"><code class="docutils literal notranslate"><span class="pre">get_bbox_dict_yolox_graphic()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_bbox_dict_yolox_table"><code class="docutils literal notranslate"><span class="pre">get_bbox_dict_yolox_table()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_biggest_box"><code class="docutils literal notranslate"><span class="pre">get_biggest_box()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_overlaps"><code class="docutils literal notranslate"><span class="pre">get_overlaps()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_weighted_box"><code class="docutils literal notranslate"><span class="pre">get_weighted_box()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_yolox_model_name"><code class="docutils literal notranslate"><span class="pre">get_yolox_model_name()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.get_yolox_page_version"><code class="docutils literal notranslate"><span class="pre">get_yolox_page_version()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_boxes_with_title"><code class="docutils literal notranslate"><span class="pre">match_boxes_with_title()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_structured_boxes_with_title"><code class="docutils literal notranslate"><span class="pre">match_structured_boxes_with_title()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_with_title_v1"><code class="docutils literal notranslate"><span class="pre">match_with_title_v1()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.match_with_title_v3"><code class="docutils literal notranslate"><span class="pre">match_with_title_v3()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.merge_boxes"><code class="docutils literal notranslate"><span class="pre">merge_boxes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.merge_labels"><code class="docutils literal notranslate"><span class="pre">merge_labels()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.postprocess_included"><code class="docutils literal notranslate"><span class="pre">postprocess_included()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.postprocess_included_texts"><code class="docutils literal notranslate"><span class="pre">postprocess_included_texts()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.postprocess_page_elements_v3"><code class="docutils literal notranslate"><span class="pre">postprocess_page_elements_v3()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.prefilter_boxes"><code class="docutils literal notranslate"><span class="pre">prefilter_boxes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.remove_overlapping_boxes_using_wbf"><code class="docutils literal notranslate"><span class="pre">remove_overlapping_boxes_using_wbf()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.internal.primitives.nim.model_interface.yolox.weighted_boxes_fusion"><code class="docutils literal notranslate"><span class="pre">weighted_boxes_fusion()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.internal.primitives.nim.model_interface">Module contents</a></li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="../_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="../_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2025, Nvidia.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>