

<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>nv_ingest_api.util.image_processing package &#8212; nv-ingest</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/nvidia-sphinx-theme.css?v=d0aa047a" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=be04dab6"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'nv-ingest-api/nv_ingest_api.util.image_processing';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nv_ingest_api.util.imports package" href="nv_ingest_api.util.imports.html" />
    <link rel="prev" title="nv_ingest_api.util.exception_handlers package" href="nv_ingest_api.util.exception_handlers.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="nv-ingest - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="nv-ingest - Home"/>
  
  
    <p class="title logo__title">nv-ingest</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="nv-ingest - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="nv-ingest - Home"/>
  
  
    <p class="title logo__title">nv-ingest</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">NV-Ingest Packages</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="modules.html">nv_ingest_api</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="nv_ingest_api.html">nv_ingest_api package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nv_ingest_api.interface.html">nv_ingest_api.interface package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="nv_ingest_api.internal.html">nv_ingest_api.internal package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.enums.html">nv_ingest_api.internal.enums package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.extract.html">nv_ingest_api.internal.extract package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.mutate.html">nv_ingest_api.internal.mutate package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.primitives.html">nv_ingest_api.internal.primitives package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.schemas.html">nv_ingest_api.internal.schemas package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.store.html">nv_ingest_api.internal.store package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.internal.transform.html">nv_ingest_api.internal.transform package</a></li>
</ul>
</details></li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="nv_ingest_api.util.html">nv_ingest_api.util package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.control_message.html">nv_ingest_api.util.control_message package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.converters.html">nv_ingest_api.util.converters package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.detectors.html">nv_ingest_api.util.detectors package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.exception_handlers.html">nv_ingest_api.util.exception_handlers package</a></li>
<li class="toctree-l4 current active"><a class="current reference internal" href="#">nv_ingest_api.util.image_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.imports.html">nv_ingest_api.util.imports package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.logging.html">nv_ingest_api.util.logging package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.message_brokers.html">nv_ingest_api.util.message_brokers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.metadata.html">nv_ingest_api.util.metadata package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.multi_processing.html">nv_ingest_api.util.multi_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.nim.html">nv_ingest_api.util.nim package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.pdf.html">nv_ingest_api.util.pdf package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.schema.html">nv_ingest_api.util.schema package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.service_clients.html">nv_ingest_api.util.service_clients package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.string_processing.html">nv_ingest_api.util.string_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest_api.util.system.html">nv_ingest_api.util.system package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nv-ingest-client/modules.html">nv_ingest_client</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.html">nv_ingest_client package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.cli.html">nv_ingest_client.cli package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.cli.util.html">nv_ingest_client.cli.util package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.client.html">nv_ingest_client.client package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.primitives.html">nv_ingest_client.primitives package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.primitives.jobs.html">nv_ingest_client.primitives.jobs package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.primitives.tasks.html">nv_ingest_client.primitives.tasks package</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.util.html">nv_ingest_client.util package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.util.file_processing.html">nv_ingest_client.util.file_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.util.vdb.html">nv_ingest_client.util.vdb package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nv-ingest/modules.html">nv_ingest</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../nv-ingest/nv_ingest.html">nv_ingest package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest/nv_ingest.api.html">nv_ingest.api package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest/nv_ingest.api.v1.html">nv_ingest.api.v1 package</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest/nv_ingest.framework.html">nv_ingest.framework package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest/nv_ingest.framework.orchestration.html">nv_ingest.framework.orchestration package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest/nv_ingest.framework.schemas.html">nv_ingest.framework.schemas package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest/nv_ingest.framework.util.html">nv_ingest.framework.util package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="modules.html" class="nav-link">nv_ingest_api</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest_api.html" class="nav-link">nv_ingest_api package</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest_api.util.html" class="nav-link">nv_ingest_api.util package</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">nv_ingest_api.util.image_processing package</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="nv-ingest-api-util-image-processing-package">
<h1>nv_ingest_api.util.image_processing package<a class="headerlink" href="#nv-ingest-api-util-image-processing-package" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-nv_ingest_api.util.image_processing.clustering">
<span id="nv-ingest-api-util-image-processing-clustering-module"></span><h2>nv_ingest_api.util.image_processing.clustering module<a class="headerlink" href="#module-nv_ingest_api.util.image_processing.clustering" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.clustering.boxes_are_close_or_overlap">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.clustering.</span></span><span class="sig-name descname"><span class="pre">boxes_are_close_or_overlap</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">b1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">b2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10.0</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/clustering.html#boxes_are_close_or_overlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.clustering.boxes_are_close_or_overlap" title="Link to this definition">#</a></dt>
<dd><p>Determine if two bounding boxes either overlap or are within a certain distance threshold.</p>
<p>The function expands each bounding box by <cite>threshold</cite> in all directions and checks
if the expanded regions overlap on both the x-axis and y-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>tuple</strong><strong>)</strong> (<em>b2</em>)</p></li>
<li><p><strong>(</strong><strong>tuple</strong><strong>)</strong></p></li>
<li><p><strong>(</strong><strong>float</strong> (<em>threshold</em>) – each bounding box before checking for overlap. Defaults to 10.0.</p></li>
<li><p><strong>optional</strong><strong>)</strong> (<em>The distance</em><em> (</em><em>in pixels</em><em> or </em><em>points</em><em>) </em><em>by which to expand</em>) – each bounding box before checking for overlap. Defaults to 10.0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the two bounding boxes overlap or are within the specified
threshold distance of each other, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">box1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">box2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">160</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">140</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">boxes_are_close_or_overlap</span><span class="p">(</span><span class="n">box1</span><span class="p">,</span> <span class="n">box2</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">True  # Because box2 is within 10 pixels of box1 along the x-axis</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.clustering.combine_groups_into_bboxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.clustering.</span></span><span class="sig-name descname"><span class="pre">combine_groups_into_bboxes</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">boxes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">groups</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">min_num_components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/clustering.html#combine_groups_into_bboxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.clustering.combine_groups_into_bboxes" title="Link to this definition">#</a></dt>
<dd><p>Merge bounding boxes based on grouped indices.</p>
<dl class="simple">
<dt>Given:</dt><dd><ul class="simple">
<li><p>A list of bounding boxes (<cite>boxes</cite>), each in the form (xmin, ymin, xmax, ymax).</p></li>
<li><p>A list of groups (<cite>groups</cite>), where each group is a list of indices
referring to bounding boxes in <cite>boxes</cite>.</p></li>
</ul>
</dd>
<dt>For each group, this function:</dt><dd><ol class="arabic simple">
<li><p>Collects all bounding boxes in that group.</p></li>
<li><p>Computes a single bounding box that tightly encompasses all of those
bounding boxes by taking the minimum of all xmins and ymins, and the
maximum of all xmaxs and ymaxs.</p></li>
<li><p>If the group has fewer than <cite>min_num_components</cite> bounding boxes, it is
skipped.</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tuple</strong><strong>)</strong> (<em>boxes</em><em> (</em><em>list of</em>) – The original bounding boxes, each in (xmin, ymin, xmax, ymax) format.</p></li>
<li><p><strong>int</strong><strong>)</strong> (<em>groups</em><em> (</em><em>list</em><em> of </em><em>list of</em>) – A list of groups, where each group is a list of indices into <cite>boxes</cite>.</p></li>
<li><p><strong>(</strong><strong>int</strong> (<em>min_num_components</em>) – The minimum number of bounding boxes a group must have to produce
a merged bounding box. Defaults to 1.</p></li>
<li><p><strong>optional</strong><strong>)</strong> – The minimum number of bounding boxes a group must have to produce
a merged bounding box. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of merged bounding boxes, one for each group that meets or exceeds
<cite>min_num_components</cite>. Each bounding box is in the format
(xmin, ymin, xmax, ymax).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of list of int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.clustering.group_bounding_boxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.clustering.</span></span><span class="sig-name descname"><span class="pre">group_bounding_boxes</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">boxes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10.0</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_num_boxes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/clustering.html#group_bounding_boxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.clustering.group_bounding_boxes" title="Link to this definition">#</a></dt>
<dd><p>Group bounding boxes that either overlap or lie within a given proximity threshold.</p>
<p>This function first checks whether the number of bounding boxes exceeds
<cite>max_num_boxes</cite>, returning an empty list if it does (to avoid excessive
computation). Then, it builds an adjacency list by comparing each pair
of bounding boxes (using <cite>boxes_are_close_or_overlap</cite>). Any bounding
boxes determined to be within <cite>threshold</cite> distance (or overlapping)
are treated as connected.</p>
<p>Using a Depth-First Search (DFS), we traverse these connections to
form groups (connected components). Each group is a list of indices
referencing bounding boxes in the original <cite>boxes</cite> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tuple</strong><strong>)</strong> (<em>boxes</em><em> (</em><em>list of</em>) – A list of bounding boxes in the format (xmin, ymin, xmax, ymax).</p></li>
<li><p><strong>(</strong><strong>float</strong> (<em>threshold</em>) – The distance threshold used to determine if two boxes are
considered “close enough” to be in the same group. Defaults to 10.0.</p></li>
<li><p><strong>optional</strong><strong>)</strong> – The distance threshold used to determine if two boxes are
considered “close enough” to be in the same group. Defaults to 10.0.</p></li>
<li><p><strong>(</strong><strong>int</strong> (<em>max_depth</em>) – The maximum number of bounding boxes to process. If the length of
<cite>boxes</cite> exceeds this, a warning is logged and the function returns
an empty list. Defaults to 1,000.</p></li>
<li><p><strong>optional</strong><strong>)</strong> – The maximum number of bounding boxes to process. If the length of
<cite>boxes</cite> exceeds this, a warning is logged and the function returns
an empty list. Defaults to 1,000.</p></li>
<li><p><strong>(</strong><strong>int</strong> – The maximum depth for the DFS. If None, there is no limit to how
many layers deep the search may go when forming connected components.
If set, bounding boxes beyond that depth in the adjacency graph
will not be included in the group. Defaults to None.</p></li>
<li><p><strong>optional</strong><strong>)</strong> – The maximum depth for the DFS. If None, there is no limit to how
many layers deep the search may go when forming connected components.
If set, bounding boxes beyond that depth in the adjacency graph
will not be included in the group. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Each element is a list (group) containing the indices of bounding
boxes that are connected (overlapping or within <cite>threshold</cite>
distance of each other).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of list of int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.clustering.remove_superset_bboxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.clustering.</span></span><span class="sig-name descname"><span class="pre">remove_superset_bboxes</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">bboxes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/clustering.html#remove_superset_bboxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.clustering.remove_superset_bboxes" title="Link to this definition">#</a></dt>
<dd><p>Remove any bounding box that strictly contains another bounding box.</p>
<p>Specifically, for each bounding box <cite>box_a</cite>, if it fully encloses
another bounding box <cite>box_b</cite> in all dimensions (with at least one
edge strictly larger rather than exactly equal), then <cite>box_a</cite> is
excluded from the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>List</strong><strong>[</strong><strong>List</strong><strong>[</strong><strong>int</strong><strong>]</strong><strong>]</strong><strong>)</strong> (<em>bboxes</em>) – A list of bounding boxes, where each bounding box is a list
or tuple of four integers in the format:
[x_min, y_min, x_max, y_max].</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new list of bounding boxes, excluding those that are
strict supersets of any other bounding box in <cite>bboxes</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[int]]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bboxes</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>   <span class="c1"># box A</span>
<span class="gp">... </span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>   <span class="c1"># box B</span>
<span class="gp">... </span>    <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>    <span class="c1"># box C</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Box A strictly encloses B and C, so it is removed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_superset_bboxes</span><span class="p">(</span><span class="n">bboxes</span><span class="p">)</span>
<span class="go">[[1, 1, 2, 2], [3, 3, 4, 4]]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-nv_ingest_api.util.image_processing.processing">
<span id="nv-ingest-api-util-image-processing-processing-module"></span><h2>nv_ingest_api.util.image_processing.processing module<a class="headerlink" href="#module-nv_ingest_api.util.image_processing.processing" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.processing.extract_tables_and_charts_from_image">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.processing.</span></span><span class="sig-name descname"><span class="pre">extract_tables_and_charts_from_image</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">annotation_dict</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">original_image</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">page_idx</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">tables_and_charts</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/processing.html#extract_tables_and_charts_from_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.processing.extract_tables_and_charts_from_image" title="Link to this definition">#</a></dt>
<dd><p>Extract and process table and chart regions from the provided image based on detection annotations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotation_dict</strong> (<em>dict</em>) – A dictionary containing detected objects and their bounding boxes, e.g. keys “table” and “chart”.</p></li>
<li><p><strong>original_image</strong> (<em>np.ndarray</em>) – The original image from which objects were detected.</p></li>
<li><p><strong>page_idx</strong> (<em>int</em>) – The index of the current page being processed.</p></li>
<li><p><strong>tables_and_charts</strong> (<em>list</em><em> of </em><em>tuple</em>) – A list to which extracted table/chart data will be appended. Each item is a tuple
(page_idx, CroppedImageWithContent).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>This function iterates over the detected table and chart objects. For each detected object, it:</dt><dd><ul class="simple">
<li><p>Crops the original image based on the bounding box.</p></li>
<li><p>Converts the cropped image to a base64 encoded string.</p></li>
<li><p>Wraps the encoded image along with its bounding box and the image dimensions in a standardized data structure.</p></li>
</ul>
</dd>
</dl>
<p>Additional model inference or post-processing can be added where needed.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">annotation_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span> <span class="p">],</span> <span class="s2">&quot;chart&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span> <span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">original_image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1536</span><span class="p">,</span> <span class="mi">1536</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tables_and_charts</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extract_tables_and_charts</span><span class="p">(</span><span class="n">annotation_dict</span><span class="p">,</span> <span class="n">original_image</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tables_and_charts</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.processing.extract_tables_and_charts_yolox">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.processing.</span></span><span class="sig-name descname"><span class="pre">extract_tables_and_charts_yolox</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">pages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">trace_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/processing.html#extract_tables_and_charts_yolox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.processing.extract_tables_and_charts_yolox" title="Link to this definition">#</a></dt>
<dd><p>Given a list of (page_index, image) tuples and a configuration dictionary,
this function calls the YOLOX-based inference service to extract table and chart
annotations from all pages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pages</strong> (<em>List</em><em>[</em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>np.ndarray</em><em>]</em><em>]</em>) – A list of tuples containing the page index and the corresponding image.</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – <dl class="simple">
<dt>A dictionary containing configuration parameters such as:</dt><dd><ul>
<li><p>’yolox_endpoints’</p></li>
<li><p>’auth_token’</p></li>
<li><p>’yolox_infer_protocol’</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>trace_info</strong> (<em>Optional</em><em>[</em><em>List</em><em>]</em><em>, </em><em>optional</em>) – Optional tracing information for logging/debugging purposes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>For each page, returns a tuple (page_index, joined_content) where
joined_content is the result of combining annotations from the inference.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[int, object]]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nv_ingest_api.util.image_processing.table_and_chart">
<span id="nv-ingest-api-util-image-processing-table-and-chart-module"></span><h2>nv_ingest_api.util.image_processing.table_and_chart module<a class="headerlink" href="#module-nv_ingest_api.util.image_processing.table_and_chart" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.assign_boxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">assign_boxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ocr_box</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#assign_boxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.assign_boxes" title="Link to this definition">#</a></dt>
<dd><p>Assigns the closest bounding boxes to a reference <cite>ocr_box</cite> based on overlap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ocr_box</strong> (<em>list</em><em> or </em><em>numpy.ndarray</em>) – Reference bounding box [x_min, y_min, x_max, y_max].</p></li>
<li><p><strong>boxes</strong> (<em>numpy.ndarray</em>) – Array of candidate bounding boxes with shape (N, 4).</p></li>
<li><p><strong>delta</strong> (<em>float</em><em>, </em><em>optional</em>) – Factor for matches relative to the best overlap. Defaults to 2.0.</p></li>
<li><p><strong>min_overlap</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum required overlap for a match. Defaults to 0.25.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Indices of the matched boxes sorted by decreasing overlap.</dt><dd><p>Returns an empty list if no matches are found.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.build_markdown">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">build_markdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#build_markdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.build_markdown" title="Link to this definition">#</a></dt>
<dd><p>Convert a dataframe into a markdown table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas DataFrame</em>) – The dataframe to convert.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of lists representing the markdown table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.convert_ocr_response_to_psuedo_markdown">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">convert_ocr_response_to_psuedo_markdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bboxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">texts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#convert_ocr_response_to_psuedo_markdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.convert_ocr_response_to_psuedo_markdown" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.display_markdown">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">display_markdown</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">use_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#display_markdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.display_markdown" title="Link to this definition">#</a></dt>
<dd><p>Convert a list of lists of strings into a markdown table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em>) – The table data. The first sublist should contain headers.</p></li>
<li><p><strong>use_header</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use the first sublist as headers. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A markdown-formatted table as a string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.join_yolox_graphic_elements_and_ocr_output">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">join_yolox_graphic_elements_and_ocr_output</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">yolox_output</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">ocr_boxes</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">ocr_txts</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#join_yolox_graphic_elements_and_ocr_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.join_yolox_graphic_elements_and_ocr_output" title="Link to this definition">#</a></dt>
<dd><p>Matching boxes
We need to associate a text to the ocr detections.
For each class and for each CACHED detections, we look for overlapping text bboxes
with  IoU &gt; max_iou / delta where max_iou is the biggest found overlap.
Found texts are added to the class representation, and removed from the texts to match</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.join_yolox_table_structure_and_ocr_output">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">join_yolox_table_structure_and_ocr_output</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">yolox_cell_preds</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">ocr_boxes</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">ocr_txts</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#join_yolox_table_structure_and_ocr_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.join_yolox_table_structure_and_ocr_output" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.match_bboxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">match_bboxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yolox_box</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ocr_boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">already_matched</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#match_bboxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.match_bboxes" title="Link to this definition">#</a></dt>
<dd><p>Associates a yolox-graphic-elements box to PaddleOCR bboxes, by taking overlapping boxes.
Criterion is iou &gt; max_iou / delta where max_iou is the biggest found overlap.
Boxes are expeceted in format (x0, y0, x1, y1)
:param yolox_box: Cached Bbox.
:type yolox_box: np array [4]
:param ocr_boxes: PaddleOCR boxes
:type ocr_boxes: np array [n x 4]
:param already_matched: Already matched ids to ignore.
:type already_matched: list or None, Optional
:param delta: IoU delta for considering several boxes. Defaults to 2..
:type delta: float, Optional</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Indices of the match bboxes</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np array or list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.merge_text_in_cell">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">merge_text_in_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_cell</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#merge_text_in_cell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.merge_text_in_cell" title="Link to this definition">#</a></dt>
<dd><p>Merges text from multiple rows into a single cell and recalculates its bounding box.
Values are sorted by rounded (y, x) coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df_cell</strong> (<em>pandas.DataFrame</em>) – DataFrame containing cells to merge.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Updated DataFrame with merged text and a single bounding box.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.process_yolox_graphic_elements">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">process_yolox_graphic_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yolox_text_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#process_yolox_graphic_elements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.process_yolox_graphic_elements" title="Link to this definition">#</a></dt>
<dd><p>Process the inference results from yolox-graphic-elements model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>yolox_text</strong> (<em>str</em>) – The result from the yolox model inference.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The concatenated and processed chart content as a string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.remove_empty_row">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">remove_empty_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#remove_empty_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.remove_empty_row" title="Link to this definition">#</a></dt>
<dd><p>Remove empty rows from a matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mat</strong> (<em>list</em><em>[</em><em>list</em><em>]</em>) – The matrix to remove empty rows from.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The matrix with empty rows removed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.table_and_chart.reorder_boxes">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.table_and_chart.</span></span><span class="sig-name descname"><span class="pre">reorder_boxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">texts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'top_left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbscan_eps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/table_and_chart.html#reorder_boxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.table_and_chart.reorder_boxes" title="Link to this definition">#</a></dt>
<dd><p>Reorders the boxes in reading order.
If mode is “center”, the boxes are reordered using bbox center.
If mode is “top_left”, the boxes are reordered using the top left corner.
If dbscan_eps is not 0, the boxes are reordered using DBSCAN clustering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boxes</strong> (<em>np array</em><em> [</em><em>n x 4 x 2</em><em>]</em>) – The bounding boxes of the OCR results.</p></li>
<li><p><strong>texts</strong> (<em>np array</em><em> [</em><em>n</em><em>]</em>) – The text of the OCR results.</p></li>
<li><p><strong>confs</strong> (<em>np array</em><em> [</em><em>n</em><em>]</em>) – The confidence scores of the OCR results.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – The mode to reorder the boxes. Defaults to “center”.</p></li>
<li><p><strong>dbscan_eps</strong> (<em>float</em><em>, </em><em>optional</em>) – The epsilon parameter for DBSCAN. Defaults to 10.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reordered bounding boxes.
List[str]: The reordered texts.
List[float]: The reordered confidence scores.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[int, …]]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nv_ingest_api.util.image_processing.transforms">
<span id="nv-ingest-api-util-image-processing-transforms-module"></span><h2>nv_ingest_api.util.image_processing.transforms module<a class="headerlink" href="#module-nv_ingest_api.util.image_processing.transforms" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.base64_to_numpy">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">base64_to_numpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base64_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#base64_to_numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.base64_to_numpy" title="Link to this definition">#</a></dt>
<dd><p>Convert a base64-encoded image string to a NumPy array using OpenCV.
Returns images in RGB format for consistency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>base64_string</strong> (<em>str</em>) – Base64-encoded string representing an image.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>NumPy array representation of the decoded image in RGB format (for color images).
Grayscale images are returned as-is.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the base64 string is invalid or cannot be decoded into an image.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">base64_str</span> <span class="o">=</span> <span class="s1">&#39;/9j/4AAQSkZJRgABAQAAAQABAAD/2wBD...&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_array</span> <span class="o">=</span> <span class="n">base64_to_numpy</span><span class="p">(</span><span class="n">base64_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># img_array is now in RGB format (for color images)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.check_numpy_image_size">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">check_numpy_image_size</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">min_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">min_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#check_numpy_image_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.check_numpy_image_size" title="Link to this definition">#</a></dt>
<dd><p>Checks if the height and width of the image are larger than the specified minimum values.</p>
<p>Parameters:
image (np.ndarray): The image array (assumed to be in shape (H, W, C) or (H, W)).
min_height (int): The minimum height required.
min_width (int): The minimum width required.</p>
<p>Returns:
bool: True if the image dimensions are larger than or equal to the minimum size, False otherwise.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.crop_image">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">crop_image</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">min_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">min_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#crop_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.crop_image" title="Link to this definition">#</a></dt>
<dd><p>Crops a NumPy array representing an image according to the specified bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>np.array</em>) – The image as a NumPy array.</p></li>
<li><p><strong>bbox</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>]</em>) – The bounding box to crop the image to, given as (w1, h1, w2, h2).</p></li>
<li><p><strong>min_width</strong> (<em>int</em><em>, </em><em>optional</em>) – The minimum allowable width for the cropped image. If the cropped width is smaller than this value,
the function returns None. Default is 1.</p></li>
<li><p><strong>min_height</strong> (<em>int</em><em>, </em><em>optional</em>) – The minimum allowable height for the cropped image. If the cropped height is smaller than this value,
the function returns None. Default is 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cropped image as a NumPy array, or None if the bounding box is invalid.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.ensure_base64_format">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">ensure_base64_format</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">base64_image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">target_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'PNG'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#ensure_base64_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.ensure_base64_format" title="Link to this definition">#</a></dt>
<dd><p>Ensures the given base64-encoded image is in the specified format. Converts if necessary.
Skips conversion if the image is already in the target format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base64_image</strong> (<em>str</em>) – Base64-encoded image string.</p></li>
<li><p><strong>target_format</strong> (<em>str</em><em>, </em><em>optional</em>) – The target image format. Supported formats are “PNG” and “JPEG”. Defaults to “PNG”.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments passed to the format-specific encoding function.
For JPEG: quality (int, default=100) - JPEG quality (1-100).
For PNG: compression (int, default=3) - PNG compression level (0-9).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Base64-encoded image string in the specified format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If there is an error during format conversion.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.normalize_image">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">normalize_image</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">r_mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.485</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">g_mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.456</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">b_mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.406</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">r_std</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.229</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">g_std</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.224</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">b_std</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.225</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#normalize_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.normalize_image" title="Link to this definition">#</a></dt>
<dd><p>Normalizes an RGB image by applying a mean and standard deviation to each channel.</p>
<section id="parameters">
<h3>Parameters:<a class="headerlink" href="#parameters" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>array<span class="classifier">np.ndarray</span></dt><dd><p>The input image array, which can be either grayscale or RGB. The image should have a shape of
(height, width, 3) for RGB images, or (height, width) or (height, width, 1) for grayscale images.
If a grayscale image is provided, it will be converted to RGB format by repeating the grayscale values
across all three channels (R, G, B).</p>
</dd>
<dt>r_mean<span class="classifier">float, optional</span></dt><dd><p>The mean to be subtracted from the red channel (default is 0.485).</p>
</dd>
<dt>g_mean<span class="classifier">float, optional</span></dt><dd><p>The mean to be subtracted from the green channel (default is 0.456).</p>
</dd>
<dt>b_mean<span class="classifier">float, optional</span></dt><dd><p>The mean to be subtracted from the blue channel (default is 0.406).</p>
</dd>
<dt>r_std<span class="classifier">float, optional</span></dt><dd><p>The standard deviation to divide the red channel by (default is 0.229).</p>
</dd>
<dt>g_std<span class="classifier">float, optional</span></dt><dd><p>The standard deviation to divide the green channel by (default is 0.224).</p>
</dd>
<dt>b_std<span class="classifier">float, optional</span></dt><dd><p>The standard deviation to divide the blue channel by (default is 0.225).</p>
</dd>
</dl>
</section>
<section id="returns">
<h3>Returns:<a class="headerlink" href="#returns" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>np.ndarray</dt><dd><p>A normalized image array with the same shape as the input, where the RGB channels have been normalized
by the given means and standard deviations.</p>
</dd>
</dl>
</section>
<section id="notes">
<h3>Notes:<a class="headerlink" href="#notes" title="Link to this heading">#</a></h3>
<p>The input pixel values should be in the range [0, 255], and the function scales these values to [0, 1]
before applying normalization.</p>
<p>If the input image is grayscale, it is converted to an RGB image by duplicating the grayscale values
across the three color channels.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.numpy_to_base64">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">numpy_to_base64</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'PNG'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#numpy_to_base64"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.numpy_to_base64" title="Link to this definition">#</a></dt>
<dd><p>Converts a NumPy array representing an image to a base64-encoded string.</p>
<p>The function takes a NumPy array, preprocesses it, and then encodes
the image in the specified format as a base64 string. The input array is expected
to be in a format that can be converted to a valid image, such as having a shape
of (H, W, C) where C is the number of channels (e.g., 3 for RGB).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>np.ndarray</em>) – The input image as a NumPy array. Must have a shape compatible with image data.</p></li>
<li><p><strong>format</strong> (<em>str</em><em>, </em><em>optional</em>) – The image format to use for encoding. Supported formats are “PNG” and “JPEG”.
Defaults to “PNG”.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments passed to the format-specific encoding function.
For JPEG: quality (int, default=100) - JPEG quality (1-100).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The base64-encoded string representation of the input NumPy array in the specified format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the input array cannot be converted into a valid image format, or if an
    unsupported format is specified.</p></li>
<li><p><strong>RuntimeError</strong> – If there is an issue during the image conversion or base64 encoding process.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encoded_str</span> <span class="o">=</span> <span class="n">numpy_to_base64</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;PNG&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">encoded_str</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encoded_str_jpeg</span> <span class="o">=</span> <span class="n">numpy_to_base64</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;JPEG&quot;</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">encoded_str_jpeg</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.numpy_to_base64_jpeg">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">numpy_to_base64_jpeg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quality</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#numpy_to_base64_jpeg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.numpy_to_base64_jpeg" title="Link to this definition">#</a></dt>
<dd><p>Converts a preprocessed NumPy array representing an image to a base64-encoded JPEG string using OpenCV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>np.ndarray</em>) – The preprocessed input image as a NumPy array. Must have a shape compatible with image data.</p></li>
<li><p><strong>quality</strong> (<em>int</em><em>, </em><em>optional</em>) – JPEG quality (1-100), by default 100. Higher values mean better quality but larger file size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The base64-encoded JPEG string representation of the input NumPy array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If there is an issue during the image conversion or base64 encoding process.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.numpy_to_base64_png">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">numpy_to_base64_png</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#numpy_to_base64_png"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.numpy_to_base64_png" title="Link to this definition">#</a></dt>
<dd><p>Converts a preprocessed NumPy array representing an image to a base64-encoded PNG string using OpenCV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>array</strong> (<em>np.ndarray</em>) – The preprocessed input image as a NumPy array. Must have a shape compatible with image data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The base64-encoded PNG string representation of the input NumPy array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If there is an issue during the image conversion or base64 encoding process.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.pad_image">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">pad_image</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">array:</span> <span class="pre">~numpy.ndarray</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">target_width:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1024</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">target_height:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1280</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">background_color:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">255</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.uint8'&gt;</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">how:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'center'</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#pad_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.pad_image" title="Link to this definition">#</a></dt>
<dd><p>Pads a NumPy array representing an image to the specified target dimensions.</p>
<p>If the target dimensions are smaller than the image dimensions, no padding will be applied
in that dimension. If the target dimensions are larger, the image will be centered within the
canvas of the specified target size, with the remaining space filled with white padding.</p>
<p>The padding can be done around the center (how=”center”), or to the bottom right (how=”bottom_right”).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>np.ndarray</em>) – The input image as a NumPy array of shape (H, W, C).</p></li>
<li><p><strong>target_width</strong> (<em>int</em><em>, </em><em>optional</em>) – The desired target width of the padded image. Defaults to DEFAULT_MAX_WIDTH.</p></li>
<li><p><strong>target_height</strong> (<em>int</em><em>, </em><em>optional</em>) – The desired target height of the padded image. Defaults to DEFAULT_MAX_HEIGHT.</p></li>
<li><p><strong>how</strong> (<em>str</em><em>, </em><em>optional</em>) – The method to pad the image. Defaults to “center”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>padded_array</strong> (<em>np.ndarray</em>) – The padded image as a NumPy array of shape (target_height, target_width, C).</p></li>
<li><p><strong>padding_offsets</strong> (<em>Tuple[int, int]</em>) – A tuple containing the horizontal and vertical offsets (pad_width, pad_height) applied to center the image.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If the target dimensions are smaller than the current image dimensions, no padding will be applied
in that dimension, and the image will retain its original size in that dimension.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">padded_image</span><span class="p">,</span> <span class="n">offsets</span> <span class="o">=</span> <span class="n">pad_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">target_width</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">target_height</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">padded_image</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1000, 1000, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsets</span>
<span class="go">(100, 200)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.scale_image_to_encoding_size">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">scale_image_to_encoding_size</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">base64_image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_base64_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">180000</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">initial_reduction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.9</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'PNG'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#scale_image_to_encoding_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.scale_image_to_encoding_size" title="Link to this definition">#</a></dt>
<dd><p>Decodes a base64-encoded image, resizes it if needed, and re-encodes it as base64.
Ensures the final image size is within the specified limit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base64_image</strong> (<em>str</em>) – Base64-encoded image string.</p></li>
<li><p><strong>max_base64_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum allowable size for the base64-encoded image, by default 180,000 characters.</p></li>
<li><p><strong>initial_reduction</strong> (<em>float</em><em>, </em><em>optional</em>) – Initial reduction step for resizing, by default 0.9.</p></li>
<li><p><strong>format</strong> (<em>str</em><em>, </em><em>optional</em>) – The image format to use for encoding. Supported formats are “PNG” and “JPEG”.
Defaults to “PNG”.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments passed to the format-specific encoding function.
For JPEG: quality (int, default=100) - JPEG quality (1-100).
For PNG: compression (int, default=3) - PNG compression level (0-9).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing:
- Base64-encoded image string in the specified format, resized if necessary.
- The new size as a tuple (width, height).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[str, Tuple[int, int]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If the image cannot be resized below the specified max_base64_size.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.transforms.scale_numpy_image">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.transforms.</span></span><span class="sig-name descname"><span class="pre">scale_numpy_image</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">img_arr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">scale_tuple</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#scale_numpy_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.transforms.scale_numpy_image" title="Link to this definition">#</a></dt>
<dd><p>Scales a NumPy image array using OpenCV with aspect ratio preservation.</p>
<p>This function provides OpenCV-based image scaling that mimics PIL’s thumbnail behavior
by maintaining aspect ratio and scaling to fit within the specified dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_arr</strong> (<em>np.ndarray</em>) – The input image as a NumPy array.</p></li>
<li><p><strong>scale_tuple</strong> (<em>Optional</em><em>[</em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – A tuple (width, height) to resize the image to. If provided, the image
will be resized to fit within these dimensions while maintaining aspect ratio
(similar to PIL’s thumbnail method). Defaults to None.</p></li>
<li><p><strong>interpolation</strong> (<em>int</em><em>, </em><em>optional</em>) – OpenCV interpolation method. Defaults to cv2.INTER_LANCZOS4.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A NumPy array representing the scaled image data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nv_ingest_api.util.image_processing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-nv_ingest_api.util.image_processing" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest_api.util.image_processing.scale_image_to_encoding_size">
<span class="sig-prename descclassname"><span class="pre">nv_ingest_api.util.image_processing.</span></span><span class="sig-name descname"><span class="pre">scale_image_to_encoding_size</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">base64_image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">max_base64_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">180000</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">initial_reduction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.9</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'PNG'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest_api/util/image_processing/transforms.html#scale_image_to_encoding_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest_api.util.image_processing.scale_image_to_encoding_size" title="Link to this definition">#</a></dt>
<dd><p>Decodes a base64-encoded image, resizes it if needed, and re-encodes it as base64.
Ensures the final image size is within the specified limit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base64_image</strong> (<em>str</em>) – Base64-encoded image string.</p></li>
<li><p><strong>max_base64_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum allowable size for the base64-encoded image, by default 180,000 characters.</p></li>
<li><p><strong>initial_reduction</strong> (<em>float</em><em>, </em><em>optional</em>) – Initial reduction step for resizing, by default 0.9.</p></li>
<li><p><strong>format</strong> (<em>str</em><em>, </em><em>optional</em>) – The image format to use for encoding. Supported formats are “PNG” and “JPEG”.
Defaults to “PNG”.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments passed to the format-specific encoding function.
For JPEG: quality (int, default=100) - JPEG quality (1-100).
For PNG: compression (int, default=3) - PNG compression level (0-9).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing:
- Base64-encoded image string in the specified format, resized if necessary.
- The new size as a tuple (width, height).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[str, Tuple[int, int]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If the image cannot be resized below the specified max_base64_size.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="nv_ingest_api.util.exception_handlers.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">nv_ingest_api.util.exception_handlers package</p>
      </div>
    </a>
    <a class="right-next"
       href="nv_ingest_api.util.imports.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">nv_ingest_api.util.imports package</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.util.image_processing.clustering">nv_ingest_api.util.image_processing.clustering module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.clustering.boxes_are_close_or_overlap"><code class="docutils literal notranslate"><span class="pre">boxes_are_close_or_overlap()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.clustering.combine_groups_into_bboxes"><code class="docutils literal notranslate"><span class="pre">combine_groups_into_bboxes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.clustering.group_bounding_boxes"><code class="docutils literal notranslate"><span class="pre">group_bounding_boxes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.clustering.remove_superset_bboxes"><code class="docutils literal notranslate"><span class="pre">remove_superset_bboxes()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.util.image_processing.processing">nv_ingest_api.util.image_processing.processing module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.processing.extract_tables_and_charts_from_image"><code class="docutils literal notranslate"><span class="pre">extract_tables_and_charts_from_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.processing.extract_tables_and_charts_yolox"><code class="docutils literal notranslate"><span class="pre">extract_tables_and_charts_yolox()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.util.image_processing.table_and_chart">nv_ingest_api.util.image_processing.table_and_chart module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.assign_boxes"><code class="docutils literal notranslate"><span class="pre">assign_boxes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.build_markdown"><code class="docutils literal notranslate"><span class="pre">build_markdown()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.convert_ocr_response_to_psuedo_markdown"><code class="docutils literal notranslate"><span class="pre">convert_ocr_response_to_psuedo_markdown()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.display_markdown"><code class="docutils literal notranslate"><span class="pre">display_markdown()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.join_yolox_graphic_elements_and_ocr_output"><code class="docutils literal notranslate"><span class="pre">join_yolox_graphic_elements_and_ocr_output()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.join_yolox_table_structure_and_ocr_output"><code class="docutils literal notranslate"><span class="pre">join_yolox_table_structure_and_ocr_output()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.match_bboxes"><code class="docutils literal notranslate"><span class="pre">match_bboxes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.merge_text_in_cell"><code class="docutils literal notranslate"><span class="pre">merge_text_in_cell()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.process_yolox_graphic_elements"><code class="docutils literal notranslate"><span class="pre">process_yolox_graphic_elements()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.remove_empty_row"><code class="docutils literal notranslate"><span class="pre">remove_empty_row()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.table_and_chart.reorder_boxes"><code class="docutils literal notranslate"><span class="pre">reorder_boxes()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.util.image_processing.transforms">nv_ingest_api.util.image_processing.transforms module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.base64_to_numpy"><code class="docutils literal notranslate"><span class="pre">base64_to_numpy()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.check_numpy_image_size"><code class="docutils literal notranslate"><span class="pre">check_numpy_image_size()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.crop_image"><code class="docutils literal notranslate"><span class="pre">crop_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.ensure_base64_format"><code class="docutils literal notranslate"><span class="pre">ensure_base64_format()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.normalize_image"><code class="docutils literal notranslate"><span class="pre">normalize_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.numpy_to_base64"><code class="docutils literal notranslate"><span class="pre">numpy_to_base64()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.numpy_to_base64_jpeg"><code class="docutils literal notranslate"><span class="pre">numpy_to_base64_jpeg()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.numpy_to_base64_png"><code class="docutils literal notranslate"><span class="pre">numpy_to_base64_png()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.pad_image"><code class="docutils literal notranslate"><span class="pre">pad_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.scale_image_to_encoding_size"><code class="docutils literal notranslate"><span class="pre">scale_image_to_encoding_size()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.transforms.scale_numpy_image"><code class="docutils literal notranslate"><span class="pre">scale_numpy_image()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest_api.util.image_processing">Module contents</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest_api.util.image_processing.scale_image_to_encoding_size"><code class="docutils literal notranslate"><span class="pre">scale_image_to_encoding_size()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="../_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="../_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2025, Nvidia.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>