

<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>nv_ingest.framework.orchestration.ray.util.pipeline package &#8212; nv-ingest</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/nvidia-sphinx-theme.css?v=933278ad" />
    <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css?v=a0a71c94" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />



    <script src="../_static/documentation_options.js?v=be04dab6"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'nv-ingest/nv_ingest.framework.orchestration.ray.util.pipeline';</script>

    <link rel="icon" href="../_static/favicon.png"/>

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nv_ingest.framework.orchestration.ray.util.system_tools package" href="nv_ingest.framework.orchestration.ray.util.system_tools.html" />
    <link rel="prev" title="nv_ingest.framework.orchestration.ray.util package" href="nv_ingest.framework.orchestration.ray.util.html" />


  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />


  </head>

  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>


  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="nv-ingest - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="nv-ingest - Home"/>
  
  
    <p class="title logo__title">nv-ingest</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="nv-ingest - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="nv-ingest - Home"/>
  
  
    <p class="title logo__title">nv-ingest</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">NV-Ingest Packages</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../nv-ingest-api/modules.html">nv_ingest_api</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.html">nv_ingest_api package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.interface.html">nv_ingest_api.interface package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.html">nv_ingest_api.internal package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.enums.html">nv_ingest_api.internal.enums package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.extract.html">nv_ingest_api.internal.extract package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.meta.html">nv_ingest_api.internal.meta package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.mutate.html">nv_ingest_api.internal.mutate package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.primitives.html">nv_ingest_api.internal.primitives package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.schemas.html">nv_ingest_api.internal.schemas package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.store.html">nv_ingest_api.internal.store package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.transform.html">nv_ingest_api.internal.transform package</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.html">nv_ingest_api.util package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.control_message.html">nv_ingest_api.util.control_message package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.converters.html">nv_ingest_api.util.converters package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.dataloader.html">nv_ingest_api.util.dataloader package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.detectors.html">nv_ingest_api.util.detectors package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.exception_handlers.html">nv_ingest_api.util.exception_handlers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.image_processing.html">nv_ingest_api.util.image_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.imports.html">nv_ingest_api.util.imports package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.introspection.html">nv_ingest_api.util.introspection package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.logging.html">nv_ingest_api.util.logging package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.message_brokers.html">nv_ingest_api.util.message_brokers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.metadata.html">nv_ingest_api.util.metadata package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.multi_processing.html">nv_ingest_api.util.multi_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.nim.html">nv_ingest_api.util.nim package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.pdf.html">nv_ingest_api.util.pdf package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.schema.html">nv_ingest_api.util.schema package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.service_clients.html">nv_ingest_api.util.service_clients package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.string_processing.html">nv_ingest_api.util.string_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.util.system.html">nv_ingest_api.util.system package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nv-ingest-client/modules.html">nv_ingest_client</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.html">nv_ingest_client package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.cli.html">nv_ingest_client.cli package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.cli.util.html">nv_ingest_client.cli.util package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.client.html">nv_ingest_client.client package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.primitives.html">nv_ingest_client.primitives package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.primitives.jobs.html">nv_ingest_client.primitives.jobs package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.primitives.tasks.html">nv_ingest_client.primitives.tasks package</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.util.html">nv_ingest_client.util package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.util.file_processing.html">nv_ingest_client.util.file_processing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nv-ingest-client/nv_ingest_client.util.vdb.html">nv_ingest_client.util.vdb package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="modules.html">nv_ingest</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="nv_ingest.html">nv_ingest package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="nv_ingest.api.html">nv_ingest.api package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest.api.v1.html">nv_ingest.api.v1 package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest.api.v2.html">nv_ingest.api.v2 package</a></li>
</ul>
</details></li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="nv_ingest.framework.html">nv_ingest.framework package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l4 current active"><a class="reference internal" href="nv_ingest.framework.orchestration.html">nv_ingest.framework.orchestration package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest.framework.schemas.html">nv_ingest.framework.schemas package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest.framework.util.html">nv_ingest.framework.util package</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="nv_ingest.pipeline.html">nv_ingest.pipeline package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="nv_ingest.pipeline.config.html">nv_ingest.pipeline.config package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="modules.html" class="nav-link">nv_ingest</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest.html" class="nav-link">nv_ingest package</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest.framework.html" class="nav-link">nv_ingest.framework package</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest.framework.orchestration.html" class="nav-link">nv_ingest.framework.orchestration package</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest.framework.orchestration.ray.html" class="nav-link">nv_ingest.framework.orchestration.ray package</a></li>
    
    
    <li class="breadcrumb-item"><a href="nv_ingest.framework.orchestration.ray.util.html" class="nav-link">nv_ingest.framework.orchestration.ray.util package</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">nv_ingest.framework.orchestration.ray.util.pipeline package</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="nv-ingest-framework-orchestration-ray-util-pipeline-package">
<h1>nv_ingest.framework.orchestration.ray.util.pipeline package<a class="headerlink" href="#nv-ingest-framework-orchestration-ray-util-pipeline-package" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller">
<span id="nv-ingest-framework-orchestration-ray-util-pipeline-pid-controller-module"></span><h2>nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller module<a class="headerlink" href="#module-nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.PIDController">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.</span></span><span class="sig-name descname"><span class="pre">PIDController</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">kp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">ki</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">kd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">target_queue_depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">penalty_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0005</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">error_boost_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.5</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest/framework/orchestration/ray/util/pipeline/pid_controller.html#PIDController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.PIDController" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Calculates initial replica adjustment proposals based on PID control logic.</p>
<p>This controller focuses on the core PID algorithm reacting to the error
between the current state (queue depth) and the desired state (target depth),
adjusted by an idle penalty. It tracks memory usage per replica to provide
a dynamic cost estimate for the ResourceConstraintManager.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.PIDController.calculate_initial_proposals">
<span class="sig-name descname"><span class="pre">calculate_initial_proposals</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">stage_metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal" title="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal"><span class="pre">StagePIDProposal</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest/framework/orchestration/ray/util/pipeline/pid_controller.html#PIDController.calculate_initial_proposals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.PIDController.calculate_initial_proposals" title="Link to this definition">#</a></dt>
<dd><p>Calculates initial, unconstrained replica proposals for each stage.</p>
<p>Iterates through each stage, calculates its PID error and delta based
on queue depth and target, and returns the initial proposals
without considering global constraints. Includes dynamic cost estimates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stage_metrics</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) – Dictionary mapping stage names to their current metrics. Expected keys
per stage: ‘replicas’, ‘queue_depth’, ‘ema_memory_per_replica’.
Optional: ‘target_queue_depth’, ‘processing’, ‘min_replicas’, ‘max_replicas’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary mapping stage names to their initial proposals, including
current/proposed replicas, cost estimates, and original metrics.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, <a class="reference internal" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal" title="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal">StagePIDProposal</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.ResourceConstraintManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.</span></span><span class="sig-name descname"><span class="pre">ResourceConstraintManager</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">max_replicas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">memory_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">memory_safety_buffer_fraction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest/framework/orchestration/ray/util/pipeline/pid_controller.html#ResourceConstraintManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.ResourceConstraintManager" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Applies global resource constraints and safety checks to initial proposals.</p>
<p>Takes the initial replica proposals generated by the PIDController and
adjusts them based on global limits (max replicas, available CPU cores based
on affinity, memory budget with safety buffer), and ensures pipeline
consistency (zero-replica safety). It allocates limited resources
proportionally if multiple stages request scale-ups simultaneously.</p>
<p>If current global memory usage exceeds the effective limit, it aggressively
scales down stages starting with the highest replica counts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.ResourceConstraintManager.apply_constraints">
<span class="sig-name descname"><span class="pre">apply_constraints</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">initial_proposals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal" title="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal"><span class="pre">StagePIDProposal</span></a><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">global_in_flight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">current_global_memory_usage_mb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">num_edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/nv_ingest/framework/orchestration/ray/util/pipeline/pid_controller.html#ResourceConstraintManager.apply_constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.ResourceConstraintManager.apply_constraints" title="Link to this definition">#</a></dt>
<dd><p>Applies all configured constraints to initial replica proposals.
(Docstring from previous version is fine)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.</span></span><span class="sig-name descname"><span class="pre">StagePIDProposal</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">current_replicas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">proposed_replicas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">conservative_cost_estimate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest/framework/orchestration/ray/util/pipeline/pid_controller.html#StagePIDProposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Holds the initial proposal from the PID controller for a single stage.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.conservative_cost_estimate">
<span class="sig-name descname"><span class="pre">conservative_cost_estimate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.conservative_cost_estimate" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.current_replicas">
<span class="sig-name descname"><span class="pre">current_replicas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.current_replicas" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.metrics">
<span class="sig-name descname"><span class="pre">metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.metrics" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.name" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.proposed_replicas">
<span class="sig-name descname"><span class="pre">proposed_replicas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.proposed_replicas" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-nv_ingest.framework.orchestration.ray.util.pipeline.pipeline_runners">
<span id="nv-ingest-framework-orchestration-ray-util-pipeline-pipeline-runners-module"></span><h2>nv_ingest.framework.orchestration.ray.util.pipeline.pipeline_runners module<a class="headerlink" href="#module-nv_ingest.framework.orchestration.ray.util.pipeline.pipeline_runners" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.pipeline_runners.run_pipeline">
<span class="sig-prename descclassname"><span class="pre">nv_ingest.framework.orchestration.ray.util.pipeline.pipeline_runners.</span></span><span class="sig-name descname"><span class="pre">run_pipeline</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">pipeline_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="nv_ingest.pipeline.html#nv_ingest.pipeline.pipeline_schema.PipelineConfigSchema" title="nv_ingest.pipeline.pipeline_schema.PipelineConfigSchema"><span class="pre">PipelineConfigSchema</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">disable_dynamic_scaling</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">dynamic_memory_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">run_in_subprocess</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">stdout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TextIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">stderr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TextIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">libmode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="nv_ingest.framework.orchestration.ray.primitives.html#nv_ingest.framework.orchestration.ray.primitives.ray_pipeline.RayPipelineInterface" title="nv_ingest.framework.orchestration.ray.primitives.ray_pipeline.RayPipelineInterface"><span class="pre">RayPipelineInterface</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="nv_ingest.framework.orchestration.ray.primitives.html#nv_ingest.framework.orchestration.ray.primitives.ray_pipeline.RayPipelineSubprocessInterface" title="nv_ingest.framework.orchestration.ray.primitives.ray_pipeline.RayPipelineSubprocessInterface"><span class="pre">RayPipelineSubprocessInterface</span></a></span></span><a class="reference internal" href="../_modules/nv_ingest/framework/orchestration/ray/util/pipeline/pipeline_runners.html#run_pipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pipeline_runners.run_pipeline" title="Link to this definition">#</a></dt>
<dd><p>Launch and manage a pipeline using configuration.</p>
<p>This function is the primary entry point for executing a Ray pipeline,
either within the current process or in a separate Python subprocess.
It supports synchronous blocking execution or non-blocking lifecycle management,
and allows redirection of output to specified file-like objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pipeline_config</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="nv_ingest.framework.schemas.html#nv_ingest.framework.schemas.framework_ingest_config_schema.PipelineConfigSchema" title="nv_ingest.framework.schemas.framework_ingest_config_schema.PipelineConfigSchema"><em>PipelineConfigSchema</em></a><em>]</em><em>, </em><em>default=None</em>) – The validated configuration object used to construct and launch the pipeline.
If None and libmode is True, loads the default libmode pipeline.</p></li>
<li><p><strong>block</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, blocks until the pipeline completes.
If False, returns an interface to control the pipeline externally.</p></li>
<li><p><strong>disable_dynamic_scaling</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em><em>, </em><em>default=None</em>) – If provided, overrides the <cite>disable_dynamic_scaling</cite> setting from the pipeline config.</p></li>
<li><p><strong>dynamic_memory_threshold</strong> (<em>Optional</em><em>[</em><em>float</em><em>]</em><em>, </em><em>default=None</em>) – If provided, overrides the <cite>dynamic_memory_threshold</cite> setting from the pipeline config.</p></li>
<li><p><strong>run_in_subprocess</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, launches the pipeline in a separate Python subprocess using <cite>multiprocessing.Process</cite>.
If False, runs the pipeline in the current process.</p></li>
<li><p><strong>stdout</strong> (<em>Optional</em><em>[</em><em>TextIO</em><em>]</em><em>, </em><em>default=None</em>) – Optional file-like stream to which subprocess stdout should be redirected.
If None, stdout is redirected to /dev/null.</p></li>
<li><p><strong>stderr</strong> (<em>Optional</em><em>[</em><em>TextIO</em><em>]</em><em>, </em><em>default=None</em>) – Optional file-like stream to which subprocess stderr should be redirected.
If None, stderr is redirected to /dev/null.</p></li>
<li><p><strong>libmode</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True and pipeline_config is None, loads the default libmode pipeline configuration.
If False, requires pipeline_config to be provided.</p></li>
<li><p><strong>quiet</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em><em>, </em><em>default=None</em>) – If True, configures logging for minimal output (PRODUCTION preset, suppresses
INFO-level startup messages). If None, defaults to True when libmode=True.
Set to False to see verbose startup logs even in library mode.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If run in-process with <cite>block=True</cite>: returns elapsed time in seconds (float).</p></li>
<li><p>If run in-process with <cite>block=False</cite>: returns a <cite>RayPipelineInterface</cite>.</p></li>
<li><p>If run in subprocess with <cite>block=False</cite>: returns a <cite>RayPipelineSubprocessInterface</cite>.</p></li>
<li><p>If run in subprocess with <cite>block=True</cite>: returns 0.0.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[<a class="reference internal" href="nv_ingest.framework.orchestration.ray.primitives.html#nv_ingest.framework.orchestration.ray.primitives.ray_pipeline.RayPipelineInterface" title="nv_ingest.framework.orchestration.ray.primitives.ray_pipeline.RayPipelineInterface">RayPipelineInterface</a>, float, <a class="reference internal" href="nv_ingest.framework.orchestration.ray.primitives.html#nv_ingest.framework.orchestration.ray.primitives.ray_pipeline.RayPipelineSubprocessInterface" title="nv_ingest.framework.orchestration.ray.primitives.ray_pipeline.RayPipelineSubprocessInterface">RayPipelineSubprocessInterface</a>]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If pipeline_config is None and libmode is False.</p></li>
<li><p><strong>RuntimeError</strong> – If the subprocess fails to start or exits with an error.</p></li>
<li><p><strong>Exception</strong> – Any other exceptions raised during pipeline launch or configuration.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nv_ingest.framework.orchestration.ray.util.pipeline.tools">
<span id="nv-ingest-framework-orchestration-ray-util-pipeline-tools-module"></span><h2>nv_ingest.framework.orchestration.ray.util.pipeline.tools module<a class="headerlink" href="#module-nv_ingest.framework.orchestration.ray.util.pipeline.tools" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nv_ingest.framework.orchestration.ray.util.pipeline.tools.wrap_callable_as_stage">
<span class="sig-prename descclassname"><span class="pre">nv_ingest.framework.orchestration.ray.util.pipeline.tools.</span></span><span class="sig-name descname"><span class="pre">wrap_callable_as_stage</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">object</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BaseModel</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">schema_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">BaseModel</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">required_tasks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">trace_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="reference internal" href="../_modules/nv_ingest/framework/orchestration/ray/util/pipeline/tools.html#wrap_callable_as_stage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nv_ingest.framework.orchestration.ray.util.pipeline.tools.wrap_callable_as_stage" title="Link to this definition">#</a></dt>
<dd><p>Factory to wrap a user-supplied function into a Ray actor, returning a proxy
for unique, isolated dynamic actor creation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.primitives.html#nv_ingest_api.internal.primitives.ingest_control_message.IngestControlMessage" title="nv_ingest_api.internal.primitives.ingest_control_message.IngestControlMessage"><em>IngestControlMessage</em></a><em>, </em><em>BaseModel</em><em>]</em><em>, </em><a class="reference internal" href="../nv-ingest-api/nv_ingest_api.internal.primitives.html#nv_ingest_api.internal.primitives.ingest_control_message.IngestControlMessage" title="nv_ingest_api.internal.primitives.ingest_control_message.IngestControlMessage"><em>IngestControlMessage</em></a><em>]</em>) – The processing function to be wrapped in the Ray actor.</p></li>
<li><p><strong>schema_type</strong> (<em>Type</em><em>[</em><em>BaseModel</em><em>]</em>) – Pydantic schema used to validate and pass the stage config.</p></li>
<li><p><strong>required_tasks</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Task names this stage should filter on. If None, no filtering is applied.</p></li>
<li><p><strong>trace_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Optional name for trace annotation; defaults to the function name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>StageProxy</strong> – A factory-like proxy exposing <cite>.remote()</cite> and <cite>.options()</cite> for Ray-idiomatic
actor creation. Direct instantiation or class method use is not supported.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Each call to <cite>.remote()</cite> or <cite>.options()</cite> generates a new, dynamically created class
(using <cite>type()</cite>), ensuring Ray treats each as a unique actor type and preventing
class/actor name collisions or registry issues. This is essential when running
dynamic or parallel pipelines and tests.</p></li>
<li><p>Only <cite>.remote(config)</cite> and <cite>.options(…)</cite> (chained with <cite>.remote(config)</cite>) are supported.
All other class/actor patterns will raise <cite>NotImplementedError</cite>.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-nv_ingest.framework.orchestration.ray.util.pipeline">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-nv_ingest.framework.orchestration.ray.util.pipeline" title="Link to this heading">#</a></h2>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="nv_ingest.framework.orchestration.ray.util.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">nv_ingest.framework.orchestration.ray.util package</p>
      </div>
    </a>
    <a class="right-next"
       href="nv_ingest.framework.orchestration.ray.util.system_tools.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">nv_ingest.framework.orchestration.ray.util.system_tools package</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller">nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.PIDController"><code class="docutils literal notranslate"><span class="pre">PIDController</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.PIDController.calculate_initial_proposals"><code class="docutils literal notranslate"><span class="pre">calculate_initial_proposals()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.ResourceConstraintManager"><code class="docutils literal notranslate"><span class="pre">ResourceConstraintManager</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.ResourceConstraintManager.apply_constraints"><code class="docutils literal notranslate"><span class="pre">apply_constraints()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal"><code class="docutils literal notranslate"><span class="pre">StagePIDProposal</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.conservative_cost_estimate"><code class="docutils literal notranslate"><span class="pre">conservative_cost_estimate</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.current_replicas"><code class="docutils literal notranslate"><span class="pre">current_replicas</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.metrics"><code class="docutils literal notranslate"><span class="pre">metrics</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.name"><code class="docutils literal notranslate"><span class="pre">name</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pid_controller.StagePIDProposal.proposed_replicas"><code class="docutils literal notranslate"><span class="pre">proposed_replicas</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest.framework.orchestration.ray.util.pipeline.pipeline_runners">nv_ingest.framework.orchestration.ray.util.pipeline.pipeline_runners module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.pipeline_runners.run_pipeline"><code class="docutils literal notranslate"><span class="pre">run_pipeline()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest.framework.orchestration.ray.util.pipeline.tools">nv_ingest.framework.orchestration.ray.util.pipeline.tools module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nv_ingest.framework.orchestration.ray.util.pipeline.tools.wrap_callable_as_stage"><code class="docutils literal notranslate"><span class="pre">wrap_callable_as_stage()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-nv_ingest.framework.orchestration.ray.util.pipeline">Module contents</a></li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  

  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="../_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="../_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2025, Nvidia.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>